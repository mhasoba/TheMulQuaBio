
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Biological Computing in Python I &#8212; TheMulQuaBio</title>
    
  <link rel="stylesheet" href="../_static/css/index.d431a4ee1c1efae0e38bdfebc22debff.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/sphinx-book-theme.bfb7730f9caf2ec0b46a44615585038c.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.30270b6e4c972e43c488.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Biological Computing in Python II" href="06-Python_II.html" />
    <link rel="prev" title="Scientific documents with \(\LaTeX\)" href="04-LaTeX.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">TheMulQuaBio</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Welcome to The Multilingual Quantitative Biologist!
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Computing
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="01-Unix.html">
   UNIX and Linux
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02-ShellScripting.html">
   Shell scripting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03-Git.html">
   Version control with Git
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04-LaTeX.html">
   Scientific documents with
   <span class="math notranslate nohighlight">
    \(\LaTeX\)
   </span>
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Biological Computing in Python I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06-Python_II.html">
   Biological Computing in Python II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07-R.html">
   Biological Computing in R
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Basic Data Analyses and Statistics
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../Stats-Intro.html">
   Introduction to this section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08-Data_R.html">
   Data Management and Visualization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="12-ExpDesign.html">
   Experimental design and Data exploration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="13-t_F_tests.html">
   <span class="math notranslate nohighlight">
    \(t\)
   </span>
   and
   <span class="math notranslate nohighlight">
    \(F\)
   </span>
   tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="14-regress.html">
   Linear Models: Regression
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="15-anova.html">
   Linear Models: Analysis of variance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="16-MulExpl.html">
   Linear Models: Multiple explanatory variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="17-MulExplInter.html">
   Linear Models: Multiple variables with interactions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="18-ModelSimp.html">
   Model simplification
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="19-glm.html">
   Generalised Linear Models
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Advanced Data Analyses and Statistics
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="20-ModelFitting-NLLS.html">
   Model Fitting using Non-linear Least-squares
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="21-ModelFitting-MLE.html">
   Model Fitting using Maximum Likelihood
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="22-ModelFitting-Bayesian.html">
   Model Fitting the Bayesian Way
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Appendices
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="Appendix-JupyIntro.html">
   Introduction to Jupyter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Appendix-Data-Python.html">
   Data analyses  with Python &amp; Jupyter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Appendix-Maths.html">
   Mathematical models in Jupyter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Appendix-Databases.html">
   Databases
   <span class="tocSkip">
   </span>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Appendix-NLLS-Python.html">
   Model fitting in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Appendix-MiniProj.html">
   The Computing Miniproject
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Appendix-Assessment.html">
   Coursework Assessment
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/notebooks/05-Python_I.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/mhasoba/TheMulQuaBio"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/mhasoba/TheMulQuaBio/issues/new?title=Issue%20on%20page%20%2Fnotebooks/05-Python_I.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/mhasoba/TheMulQuaBio/master?urlpath=tree/notebooks/05-Python_I.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/mhasoba/TheMulQuaBio/blob/master/notebooks/05-Python_I.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#why-python">
     Why Python?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#python-versions">
     Python versions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#some-terminology">
     Some terminology
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#getting-started-with-python">
   Getting started with Python
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#baby-steps">
     Baby steps
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ipython">
     ipython
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#magic-commands">
       Magic commands
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#determining-an-object-s-type">
     Determining an object’s type
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#python-variables">
   Python variables
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#python-operators">
   Python operators
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#assigning-and-manipulating-variables">
     Assigning and manipulating variables
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#python-data-structures">
   Python data structures
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lists">
     Lists
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tuples">
     Tuples
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sets">
     Sets
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dictionaries">
     Dictionaries
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#copying-mutable-objects">
     Copying mutable objects
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#python-with-strings">
     Python with strings
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#getting-help">
     Getting help
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#writing-python-code">
   Writing Python code
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#testing-running-blocks-of-code">
     Testing/Running blocks of code
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#looping-and-the-range-function">
   Looping, and the
   <code class="docutils literal notranslate">
    <span class="pre">
     range
    </span>
   </code>
   function
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#python-input-output">
   Python Input/Output
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#handling-csv-s">
     Handling
     <code class="docutils literal notranslate">
      <span class="pre">
       csv
      </span>
     </code>
     ’s
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-python-scripts">
   Running Python scripts
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-bash">
     Using bash
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#from-bash-using-ipython">
     From bash, using ipython
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#from-within-the-ipython-shell">
     From within the ipython shell
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#control-flow-tools">
   Control flow tools
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#functions">
     Functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#conditionals">
     Conditionals
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loops">
     Loops
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loops-and-conditionals-combined">
     Loops and conditionals combined
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comprehensions">
   Comprehensions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#variable-scope">
   Variable scope
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#importance-of-the-return-directive">
     Importance of the
     <code class="docutils literal notranslate">
      <span class="pre">
       return
      </span>
     </code>
     directive
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#writing-python-programs">
   Writing Python programs
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#components-of-the-python-program">
     Components of the Python program
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-shebang">
       The shebang
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-docstring">
       The Docstring
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#internal-variables">
       Internal Variables
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#function-definitions-and-modules">
       Function
       <code class="docutils literal notranslate">
        <span class="pre">
         def
        </span>
       </code>
       initions and “modules”
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#why-include-name-main-and-all-that-jazz">
       Why include
       <code class="docutils literal notranslate">
        <span class="pre">
         __name__
        </span>
        <span class="pre">
         ==
        </span>
        <span class="pre">
         "__main__"
        </span>
       </code>
       and all that jazz
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#what-is-sys-argv">
       What is
       <code class="docutils literal notranslate">
        <span class="pre">
         sys.argv
        </span>
       </code>
       ?
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#what-is-main-argv">
       What is
       <code class="docutils literal notranslate">
        <span class="pre">
         main(argv)
        </span>
       </code>
       ?
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#finally-sys-exit">
       Finally, sys.exit()
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-program-with-control-flows-example">
     A program-with-control-flows example
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#practicals">
   Practicals
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Comprehensions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#writing-a-program-with-control-flows">
     Writing a Program with Control flows
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#errors-in-your-python-code">
   Errors in your Python code
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#unit-testing">
     Unit testing
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#unit-testing-with-doctest">
       Unit testing with
       <code class="docutils literal notranslate">
        <span class="pre">
         doctest
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#other-unit-testing-approaches">
       Other unit testing approaches
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#debugging">
     Debugging
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#paranoid-programming-debugging-with-breakpoints">
       Paranoid programming: debugging with breakpoints
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#debugging-using-your-ide">
       Debugging using your IDE
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#errors-that-cannot-be-debugged">
     Errors that cannot be debugged
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#functions-modules-and-code-compartmentalization">
   Functions, Modules, and code compartmentalization
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#importing-modules">
     Importing Modules
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#python-packages">
     Python packages
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   Practicals
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#align-dna-sequences">
     Align DNA sequences
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#groupwork-practical-on-align-dna-sequences">
     Groupwork Practical on Align DNA sequences
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#groupwork-practical-on-align-dna-sequences-2">
     Groupwork Practical on Align DNA sequences 2
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#missing-oaks-problem">
     Missing oaks problem
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#groupwork-practical-on-missing-oaks-problem">
     Groupwork Practical on Missing oaks problem
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#practicals-wrap-up">
     Practicals wrap-up
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#readings-and-resources">
   Readings and Resources
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#general">
     General
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     IPython
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     Python data structures
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#elements-of-the-python-program">
     Elements of the Python program
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#errors-and-debugging">
     Errors and Debugging
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#functions-modules-and-classes">
     Functions, Modules, and Classes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     Python Packages
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="biological-computing-in-python-i">
<h1>Biological Computing in Python I<a class="headerlink" href="#biological-computing-in-python-i" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Python is a modern, easy-to-write, interpreted (semi-compiled)  programming language that was conceived with readability of code in mind. It has a numerous of feature-rich packages that can be used for a wide variety of biological applications and analyses.</p>
<p>The two Python chapters of TheMulQuaBio are intended to teach you scientific programming in biology using Python. Across both these chapters, you will learn:</p>
<ul class="simple">
<li><p>Basics of Python syntax and data structures</p></li>
<li><p>Python’s object-oriented features</p></li>
<li><p>Learning to use the <code class="docutils literal notranslate"><span class="pre">ipython</span></code> environment</p></li>
<li><p>How to write and run python code</p></li>
<li><p>Understand and implement Python control flow tools</p></li>
<li><p>Writing, debugging, using, and testing Python functions</p></li>
<li><p>Learning efficient numerical programming in Python</p></li>
<li><p>Using regular expressions in Python</p></li>
<li><p>Introduction to particularly useful Python packages</p></li>
<li><p>Using Python to run other, non-python tasks and code</p></li>
<li><p>Using Python to patch together data analysis and/or numerical simulation work flows</p></li>
</ul>
<div class="section" id="why-python">
<span id="id1"></span><h3>Why Python?<a class="headerlink" href="#why-python" title="Permalink to this headline">¶</a></h3>
<p>Python was designed with readability and re-usability in mind. Time taken by programming + debugging + running is likely to be relatively lower in python than less intuitive or cluttered languages (e.g., FORTRAN, Perl).</p>
<p>Python is a pretty good solution if you want to easily write readable code that is also reasonably efficient computationally (see the figure below).</p>
<hr class="docutils" />
<p><img alt="image" src="../_images/benchmarks.png" />
<small><center>(Source: http://julialang.org/) <br>
Python’s numerical computing performance compared (smaller numbers are better). Note that the y-axis is in <span class="math notranslate nohighlight">\(\log_{10}\)</span> scale.</p>
</center> </small>
<hr class="docutils" />
<hr class="docutils" />
<p><img alt="image" src="../_images/python.png" />
<small> <center> (Source: <a class="reference external" href="http://xkcd.com">http://xkcd.com</a>)<br>
Is python the most common answer to your daily programming needs? Possibly!</p>
</center> </small>
</div>
<hr class="docutils" />
<div class="section" id="python-versions">
<h3>Python versions<a class="headerlink" href="#python-versions" title="Permalink to this headline">¶</a></h3>
<p>We will use python 3. But most of the code in the Python chapters will work in python 2.7.xx as well. If you are interested in the python 2 vs 3 history, <a class="reference external" href="https://wiki.python.org/moin/Python2orPython3">read this</a>.</p>
</div>
<div class="section" id="some-terminology">
<h3>Some terminology<a class="headerlink" href="#some-terminology" title="Permalink to this headline">¶</a></h3>
<p><em>What does “float” mean?</em> You will inevitably run into some such jargon in this chapter. The main ones you need to know are (you will learn more about these along the way):</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Term</p></th>
<th class="text-align:left head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>Workspace</p></td>
<td class="text-align:left"><p>The “environment” of your current python <em>session</em>, including all variables, functions, objects, etc.</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>Variable</p></td>
<td class="text-align:left"><p>A named number, text string, boolean (<code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>), or data structure that can change (more on variable and data types later)</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>Function</p></td>
<td class="text-align:left"><p>A computer procedure or routine that performs operations and returns some value(s), and which can be used again and again</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>Module</p></td>
<td class="text-align:left"><p><em>Variables</em> and <em>functions</em> packaged into a single set of programs that can be invoked as a re-useable command (potentially with sub-commands)</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>Class</p></td>
<td class="text-align:left"><p>A way of grouping <em>Variables</em> and <em>functions</em> into a single object with specific properties that are inherited when you create its copy. Unlike <em>modules</em>, you can create (“spawn”) many copies of a <em>class</em> within a python session or program</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>Object</p></td>
<td class="text-align:left"><p>A particular instance of a class (every object belongs to a class) that is created in a session and eventually destroyed; everything in your workspace is an object in python!</p></td>
</tr>
</tbody>
</table>
<p>This Module vs. Class vs. Object business is confusing. These constructs are created to make an (object-oriented) programming language like Python more flexible and user friendly (though it might not seem so to you currently!). In practice, at least for your current purposes, you will not build you own python classes much (but will use the inbuilt Python classes).You will however write your own modules. More on all this later (in the second Python Chapter).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Data “structures” vs. “objects”</strong>: You will often see the terms “object” and “data structure” thrown around in this and other chapters. These two have a very distinct meaning in object-oriented programming (OOP) languages like Python and R. A data structure is just a “dumb” container for data (e.g., a vector). An object, on the other hand can be a data structure, but also any other variable or a function. Python, being an OOP language, converts everything in the current environment to an object so that it knows what to do with each such entity — each object type has its own set of rules for operations and manipulations that Python uses when interpreting your commands.</p>
</div>
</div>
</div>
<div class="section" id="getting-started-with-python">
<h2>Getting started with Python<a class="headerlink" href="#getting-started-with-python" title="Permalink to this headline">¶</a></h2>
<p>OK, so let’s get started with Python.</p>
<p><span class="math notranslate nohighlight">\(\star\)</span> In your bash terminal (or by opening a new one with <code class="docutils literal notranslate"><span class="pre">ctrl+alt+t</span></code>), type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3
</pre></div>
</div>
<p>You will get a new command prompt that looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Now type <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">this</span></code>, which should give:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Beautiful</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="n">ugly</span><span class="o">.</span>
<span class="n">Explicit</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="n">implicit</span><span class="o">.</span>
<span class="n">Simple</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="nb">complex</span><span class="o">.</span>
<span class="n">Complex</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="n">complicated</span><span class="o">.</span>
<span class="n">Flat</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="n">nested</span><span class="o">.</span>
<span class="n">Sparse</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="n">dense</span><span class="o">.</span>
<span class="n">Readability</span> <span class="n">counts</span><span class="o">.</span>
<span class="n">Special</span> <span class="n">cases</span> <span class="n">aren</span><span class="s1">&#39;t special enough to break the rules.</span>
<span class="n">Although</span> <span class="n">practicality</span> <span class="n">beats</span> <span class="n">purity</span><span class="o">.</span>
<span class="n">Errors</span> <span class="n">should</span> <span class="n">never</span> <span class="k">pass</span> <span class="n">silently</span><span class="o">.</span>
<span class="n">Unless</span> <span class="n">explicitly</span> <span class="n">silenced</span><span class="o">.</span>
<span class="n">In</span> <span class="n">the</span> <span class="n">face</span> <span class="n">of</span> <span class="n">ambiguity</span><span class="p">,</span> <span class="n">refuse</span> <span class="n">the</span> <span class="n">temptation</span> <span class="n">to</span> <span class="n">guess</span><span class="o">.</span>
<span class="n">There</span> <span class="n">should</span> <span class="n">be</span> <span class="n">one</span><span class="o">--</span> <span class="ow">and</span> <span class="n">preferably</span> <span class="n">only</span> <span class="n">one</span> <span class="o">--</span><span class="n">obvious</span> <span class="n">way</span> <span class="n">to</span> <span class="n">do</span> <span class="n">it</span><span class="o">.</span>
<span class="n">Although</span> <span class="n">that</span> <span class="n">way</span> <span class="n">may</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">obvious</span> <span class="n">at</span> <span class="n">first</span> <span class="n">unless</span> <span class="n">you</span><span class="s1">&#39;re Dutch.</span>
<span class="n">Now</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">than</span> <span class="n">never</span><span class="o">.</span>
<span class="n">Although</span> <span class="n">never</span> <span class="ow">is</span> <span class="n">often</span> <span class="n">better</span> <span class="n">than</span> <span class="o">*</span><span class="n">right</span><span class="o">*</span> <span class="n">now</span><span class="o">.</span>
<span class="n">If</span> <span class="n">the</span> <span class="n">implementation</span> <span class="ow">is</span> <span class="n">hard</span> <span class="n">to</span> <span class="n">explain</span><span class="p">,</span> <span class="n">it</span><span class="s1">&#39;s a bad idea.</span>
<span class="n">If</span> <span class="n">the</span> <span class="n">implementation</span> <span class="ow">is</span> <span class="n">easy</span> <span class="n">to</span> <span class="n">explain</span><span class="p">,</span> <span class="n">it</span> <span class="n">may</span> <span class="n">be</span> <span class="n">a</span> <span class="n">good</span> <span class="n">idea</span><span class="o">.</span>
<span class="n">Namespaces</span> <span class="n">are</span> <span class="n">one</span> <span class="n">honking</span> <span class="n">great</span> <span class="n">idea</span> <span class="o">--</span> <span class="n">let</span><span class="s1">&#39;s do more of those!</span>
</pre></div>
</div>
<p><em>Think about and discuss what each of these programming principles mean.</em> The “Dutch” in one of them refers to  Guido van Rossum, inventor of the python language. <a class="reference external" href="https://inventwithpython.com/blog/2018/08/17/the-zen-of-python-explained/">Here</a>’s one set of interpretations of these.</p>
<div class="section" id="baby-steps">
<h3>Baby steps<a class="headerlink" href="#baby-steps" title="Permalink to this headline">¶</a></h3>
<p>Now, try some simple operations:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span> <span class="c1"># Summation; note that comments still start with #</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="o">*</span> <span class="mi">2</span> <span class="c1"># Multiplication</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="o">/</span> <span class="mi">2</span> <span class="c1"># division</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.0
</pre></div>
</div>
</div>
</div>
<p>To specify an integer division, use <code class="docutils literal notranslate"><span class="pre">//</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span><span class="o">//</span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="o">&gt;</span> <span class="mi">3</span> <span class="c1"># logical operation</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="c1"># another one</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="ipython">
<h3>ipython<a class="headerlink" href="#ipython" title="Permalink to this headline">¶</a></h3>
<p>Let’s switch to the <code class="docutils literal notranslate"><span class="pre">i</span></code>nteractive python shell, <code class="docutils literal notranslate"><span class="pre">ipython</span></code> that you installed above.</p>
<p><span class="math notranslate nohighlight">\(\star\)</span> Type <code class="docutils literal notranslate"><span class="pre">ctrl+D</span></code> in the terminal at the python prompt: this will exit you from the python shell and you will see the bash prompt again.</p>
<p>Now type</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ipython3
</pre></div>
</div>
<p>After some text, you should now see the ipython prompt:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>In <span class="o">[</span><span class="m">1</span><span class="o">]</span>:
</pre></div>
</div>
<p>The ipython shell has many advantages over the bare-bones, non-interactive python shell (with the <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> prompt). For example, as in the bash shell, <code class="docutils literal notranslate"><span class="pre">TAB</span></code> leads to auto-completion of a command or file name (try it).</p>
<div class="section" id="magic-commands">
<h4>Magic commands<a class="headerlink" href="#magic-commands" title="Permalink to this headline">¶</a></h4>
<p>IPython has “magic commands” (which start with % ; e.g., <code class="docutils literal notranslate"><span class="pre">%run</span></code>). Here are some useful magic commands:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Command</p></th>
<th class="text-align:left head"><p>What it does</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">%who</span></code></p></td>
<td class="text-align:left"><p>Shows current namespace (all variables, modules and functions)</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">%whos</span></code></p></td>
<td class="text-align:left"><p>Also display the type of each variable; typing <code class="docutils literal notranslate"> <span class="pre">%whos</span> <span class="pre">function</span></code> only displays functions etc.</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">%pwd</span></code></p></td>
<td class="text-align:left"><p>Print working directory</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">%history</span></code></p></td>
<td class="text-align:left"><p>Print recent commands</p></td>
</tr>
</tbody>
</table>
<p>You can try any or all of these now. For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">who</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Interactive namespace is empty.
</pre></div>
</div>
</div>
</div>
<p>That is, there are no objects in your workspace yet. Let’s create one:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">who</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>a	 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">whos</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Variable   Type    Data/Info
----------------------------
a          int     1
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="determining-an-object-s-type">
<h3>Determining an object’s type<a class="headerlink" href="#determining-an-object-s-type" title="Permalink to this headline">¶</a></h3>
<p>Another useful IPython feature is the question mark, which can be used to find what a particular Python object is, including variables you created. For example, try: <code class="docutils literal notranslate"><span class="pre">?a</span></code></p>
<p>This will give you detailed information about this variable (which is an object, belonging to a particular class, because this is python!). You can also check a variable’s type:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>int
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can configure ipython’s environment and behavior by editing the <code class="docutils literal notranslate"><span class="pre">ipython_config.py</span></code> file, which is located in the <code class="docutils literal notranslate"><span class="pre">.ipython</span></code> directory of your <code class="docutils literal notranslate"><span class="pre">home</span></code> (on Linux/Ubuntu). This file does not initially exist, but you can create it by running <code class="docutils literal notranslate"><span class="pre">ipython</span> <span class="pre">profile</span> <span class="pre">create</span> <span class="pre">[profilename]</span></code> in a bash terminal. Then, edit it. For example, on Ubuntu you can</p>
<p><code class="docutils literal notranslate"><span class="pre">gedit</span> <span class="pre">~/.ipython/profile_default/ipython_config.py</span> <span class="pre">&amp;</span></code></p>
<p>And then make the changes you want to the default ipython configuration. For example, If you don’t like the blue
<code class="docutils literal notranslate"><span class="pre">ipython</span></code> prompt, you can type <code class="docutils literal notranslate"><span class="pre">%colors</span> <span class="pre">linux</span></code> (once inside the shell). If you want to make this color the default,
then edit the <code class="docutils literal notranslate"><span class="pre">ipython_config.py</span></code> — search for “Set the color scheme” option in the file.</p>
</div>
</div>
</div>
<div class="section" id="python-variables">
<h2>Python variables<a class="headerlink" href="#python-variables" title="Permalink to this headline">¶</a></h2>
<p>Now, let’s continue our python intro. We will first learn about the python variable types that were mentioned above. The types are:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1">#integer</span>
<span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>int
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mf">2.</span> <span class="c1">#Float</span>
<span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>float
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;Two&quot;</span> <span class="c1">#String</span>
<span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>str
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">#Boolean</span>
<span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>bool
</pre></div>
</div>
</div>
</div>
<p><em>Thus, python has integer, float (real numbers, with different precision levels) string and boolean variables.</em></p>
<p>Also, try <code class="docutils literal notranslate"><span class="pre">?a</span></code> after defining <code class="docutils literal notranslate"><span class="pre">a</span></code> to be a boolean variable, and note this output in particular:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">builtins</span> <span class="kc">True</span> <span class="ow">and</span> <span class="kc">False</span> <span class="n">are</span> <span class="n">the</span> <span class="n">only</span> <span class="n">two</span> <span class="n">instances</span> <span class="n">of</span> <span class="n">the</span> <span class="k">class</span> <span class="nc">bool</span><span class="o">.</span>
<span class="n">The</span> <span class="k">class</span> <span class="nc">bool</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">subclass</span> <span class="n">of</span> <span class="n">the</span> <span class="k">class</span> <span class="nc">int</span><span class="p">,</span> <span class="ow">and</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">subclassed</span><span class="o">.</span>
</pre></div>
</div>
<p>The idea of what a class is should be a little bit clearer to you now.</p>
</div>
<div class="section" id="python-operators">
<h2>Python operators<a class="headerlink" href="#python-operators" title="Permalink to this headline">¶</a></h2>
<p>Here are the operators that you can use on variables in python:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Operator</p></th>
<th class="text-align:left head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td class="text-align:left"><p>Addition</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td class="text-align:left"><p>Subtraction</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
<td class="text-align:left"><p>Multiplication</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">/</span></code></p></td>
<td class="text-align:left"><p>Division</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">**</span></code></p></td>
<td class="text-align:left"><p>Power</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">%</span></code></p></td>
<td class="text-align:left"><p>Modulo</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">//</span></code></p></td>
<td class="text-align:left"><p>Integer division</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">==</span></code></p></td>
<td class="text-align:left"><p>Equals</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">!=</span></code></p></td>
<td class="text-align:left"><p>Differs</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code></p></td>
<td class="text-align:left"><p>Greater</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">&gt;=</span></code></p></td>
<td class="text-align:left"><p>Greater or equal</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">&amp;,</span> <span class="pre">and</span></code></p></td>
<td class="text-align:left"><p>Logical AND</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><span class="math notranslate nohighlight">\(\vert\)</span> , <code class="docutils literal notranslate"><span class="pre">or</span></code></p></td>
<td class="text-align:left"><p>Logical OR</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">!,</span> <span class="pre">not</span></code></p></td>
<td class="text-align:left"><p>Logical NOT</p></td>
</tr>
</tbody>
</table>
<div class="section" id="assigning-and-manipulating-variables">
<h3>Assigning and manipulating variables<a class="headerlink" href="#assigning-and-manipulating-variables" title="Permalink to this headline">¶</a></h3>
<p>Try the following:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="o">==</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="o">!=</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="o">/</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.5
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="o">//</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<p><em>What happened here</em>? This is an integer division, so the decimal part is lost.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;hola, &#39;</span> <span class="o">+</span> <span class="s1">&#39;mi llamo Samraat&#39;</span> <span class="c1">#why not learn two languages at the same time?! </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;hola, mi llamo Samraat&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;My string&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">+</span> <span class="s1">&#39; now has more stuff&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;My string now has more stuff&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">27</span><span class="o">-</span><span class="n">cd60f97aa77f</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="ne">TypeError</span>: can only concatenate str (not &quot;int&quot;) to str
</pre></div>
</div>
</div>
</div>
<p>Doesn’t work. No problem, we can convert from one type to another:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="s1">&#39;88&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">+</span> <span class="n">z</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In Python, the type of a variable is determined when the program or command is running (dynamic typing) (like <code class="docutils literal notranslate"><span class="pre">R</span></code>, unlike <code class="docutils literal notranslate"><span class="pre">C</span></code> or <code class="docutils literal notranslate"><span class="pre">FORTRAN</span></code>). This is convenient, but can make programs slow. More on efficient computing <a class="reference internal" href="06-Python_II.html"><span class="doc std std-doc">later</span></a>.</p>
</div>
</div>
</div>
<div class="section" id="python-data-structures">
<h2>Python data structures<a class="headerlink" href="#python-data-structures" title="Permalink to this headline">¶</a></h2>
<p>python variables can be stored and manipulated in:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p></p></th>
<th class="text-align:left head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p><em>List</em>:</p></td>
<td class="text-align:left"><p>most versatile, can contain compound data, “mutable”, enclosed in brackets, <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><em>Tuple</em>:</p></td>
<td class="text-align:left"><p>like a list, but “immutable” — like a read only list, enclosed in parentheses, <code class="docutils literal notranslate"><span class="pre">(</span> <span class="pre">)</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><em>Dictionary</em>:</p></td>
<td class="text-align:left"><p>a kind of “hash table” of key-value pairs enclosed by curly braces, <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">}</span></code> — key can be number or string, values can be any  python object</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><em>numpy arrays</em>:</p></td>
<td class="text-align:left"><p>Fast, compact, convenient for numerical computing — more on this later</p></td>
</tr>
</tbody>
</table>
<div class="section" id="lists">
<h3>Lists<a class="headerlink" href="#lists" title="Permalink to this headline">¶</a></h3>
<p>These are the most versatile, and can contain compound data. They are “mutable”, as will be illustrated below. Try this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MyList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mf">2.44</span><span class="p">,</span><span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MyList</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MyList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p><em>Note that python “indexing” starts at 0, not 1!</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MyList</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>As expected!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MyList</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;blue&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MyList</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MyList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;a new item&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Note <code class="docutils literal notranslate"><span class="pre">.append</span></code>. This is an operation (a “method”) that can be applied to any “object” with the “class” list. You can check the type of any object:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">whos</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">MyList</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">MyList</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In Python3 there is no difference between “classes” and “types”. They are in most cases used as synonyms.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MyList</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">del</span> <span class="n">MyList</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MyList</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Note that in ipython you can suffix an <code class="docutils literal notranslate"><span class="pre">.</span></code> to a particular object (e.g., <code class="docutils literal notranslate"><span class="pre">MyList.</span></code>), and then hit tab to see the methods that can be applied to that object.</p>
</div>
</div>
<div class="section" id="tuples">
<h3>Tuples<a class="headerlink" href="#tuples" title="Permalink to this headline">¶</a></h3>
<p>Tuples are like a list, but “immutable”, that is, a <em>particular pair</em> or sequence of strings or numbers cannot be modified after it is created. So a tuple is like a read-only list.</p>
<p>Try this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">FoodWeb</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">),(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">),(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">),(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">)]</span>
<span class="n">FoodWeb</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">FoodWeb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">FoodWeb</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">FoodWeb</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;bbb&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>Thus, tuples are “immutable”!</p>
<p>However, you can change a whole pairing:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">FoodWeb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;bbb&quot;</span><span class="p">,</span><span class="s2">&quot;ccc&quot;</span><span class="p">)</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">FoodWeb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p><em>In the above example, why assign these food web data to a list of tuples and not a list of lists?</em> — because we want to maintain the species associations, no matter what — they are sacrosanct.</p>
<p>Thus, you cannot:</p>
<ul class="simple">
<li><p>add elements to a tuple. Tuples have no append or extend method.</p></li>
<li><p>remove elements from a tuple. Tuples have no remove method.</p></li>
</ul>
<p>But you can:</p>
<ul class="simple">
<li><p>find elements in a tuple, since this doesn’t change the tuple.</p></li>
<li><p>use the <code class="docutils literal notranslate"><span class="pre">in</span></code> operator to check if an element exists in the tuple (more on this in the control flow tools sections below).</p></li>
</ul>
<p>The key point is that tuples are faster than lists, as you might expect for an immutable object (it has a fixed memory space, which makes it more efficient to retrieve). using tuples also makes your code safer as it effectively write-protects data (as long as you don’t plan to modify those particular data).</p>
<p>Tuples may be immutable, but you <em>can</em> append to them by first creating an “empty space” for the new item:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[])</span> 
<span class="n">a</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">a</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">a</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">a</span>
</pre></div>
</div>
</div>
</div>
<p>You can also concatenate, slice and dice them as long as they contain a single sequence or set of items:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">b</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<span class="n">c</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<span class="n">b</span>
</pre></div>
</div>
</div>
</div>
<p>They can be a heterogeneous set as well.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">a</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="sets">
<h3>Sets<a class="headerlink" href="#sets" title="Permalink to this headline">¶</a></h3>
<p>You can convert a list to an immutable “set” — an unordered collection with no duplicate elements. Once you create a set you can perform set operations on it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">&amp;</span> <span class="n">c</span> <span class="c1"># intersection</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">|</span> <span class="n">c</span> <span class="c1"># union</span>
</pre></div>
</div>
</div>
</div>
<p>The key set operations in python are:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Operation</p></th>
<th class="text-align:left head"><p>Command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">-</span> <span class="pre">b</span> </code></p></td>
<td class="text-align:left"><p>a.difference(b)</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&lt;=</span> <span class="pre">b</span></code></p></td>
<td class="text-align:left"><p>a.issubset(b)</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&gt;=</span> <span class="pre">b</span></code></p></td>
<td class="text-align:left"><p>b.issubset(a)</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&amp;</span> <span class="pre">b</span></code></p></td>
<td class="text-align:left"><p>a.intersection(b)</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">a</span></code> <span class="math notranslate nohighlight">\(\vert\)</span> <code class="docutils literal notranslate"><span class="pre">b</span></code></p></td>
<td class="text-align:left"><p>a.union(b)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="dictionaries">
<h3>Dictionaries<a class="headerlink" href="#dictionaries" title="Permalink to this headline">¶</a></h3>
<p>A dictionary is a set of values (any python object) indexed by keys (string or number). So they are a bit like <code class="docutils literal notranslate"><span class="pre">R</span></code> lists.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GenomeSize</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Homo sapiens&#39;</span><span class="p">:</span> <span class="mf">3200.0</span><span class="p">,</span> <span class="s1">&#39;Escherichia coli&#39;</span><span class="p">:</span> <span class="mf">4.6</span><span class="p">,</span> <span class="s1">&#39;Arabidopsis thaliana&#39;</span><span class="p">:</span> <span class="mf">157.0</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">GenomeSize</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GenomeSize</span><span class="p">[</span><span class="s1">&#39;Arabidopsis thaliana&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GenomeSize</span><span class="p">[</span><span class="s1">&#39;Saccharomyces cerevisiae&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">12.1</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GenomeSize</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GenomeSize</span><span class="p">[</span><span class="s1">&#39;Escherichia coli&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">4.6</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GenomeSize</span>
</pre></div>
</div>
</div>
</div>
<p>Because ‘Escherichia coli’ is already in the dictionary, it is not repeated.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">GenomeSize</span><span class="p">[</span><span class="s1">&#39;Homo sapiens&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3201.1</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GenomeSize</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Tuples that contain immutable values like strings, numbers, and other tuples  can be used as dictionary keys. Lists can never be used as dictionary keys, because they are mutable.</p>
</div>
<p>In summary, the guidelines for choosing a Python data structure are:</p>
<ul class="simple">
<li><p>If your elements/data are unordered and indexed by numbers use a <em>list</em></p></li>
<li><p>If you’re defining a constant set of values (or ordered sequences) and all you’re ever going to do with them is iterate through them, use a <em>tuple</em>.</p></li>
<li><p>If you want to perform set operations on data, use a <em>set</em></p></li>
<li><p>If they are unordered and indexed by keys (e.g., names), use a  <em>dictionary</em></p></li>
</ul>
<p><em>But why not use dictionaries for everything?</em> – because it can slow down your code!</p>
</div>
<div class="section" id="copying-mutable-objects">
<h3>Copying mutable objects<a class="headerlink" href="#copying-mutable-objects" title="Permalink to this headline">¶</a></h3>
<p>Copying mutable objects can be tricky because by default, when you create a new variable based on an existing one, , Python only creates a reference to the original (that is it does not create a new, duplicate variable in memory as such). To understand this, let’s see an example.</p>
<p>First, try this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span>
</pre></div>
</div>
</div>
</div>
<p>Here, you have not really copied, but merely created a new “tag” (like a label) for <code class="docutils literal notranslate"><span class="pre">a</span></code>, called <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>So <code class="docutils literal notranslate"><span class="pre">b</span></code> changed as well! This is because <code class="docutils literal notranslate"><span class="pre">b</span></code> is just a “pointer” or “reference” to <code class="docutils literal notranslate"><span class="pre">a</span></code>, not an actual copy in memory.</p>
<p>Now, try:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[:]</span>  <span class="c1"># This is a &quot;shallow&quot; copy; one level deep</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>That worked! But what about more complex lists? Try this nested list:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[:]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now, modify <code class="docutils literal notranslate"><span class="pre">a</span></code>, and then inspect both <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">22</span> <span class="c1"># Note how I accessed this 2D list</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>So <code class="docutils literal notranslate"><span class="pre">b</span></code> still got modified!</p>
<p>This is because shallow copy is not recursive, that is, it does not copy beyond the first level of the list, leaving the values in the nested list still linked in memory to the  original object <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p>
<p>The solution is to do a “deep” copy:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">copy</span>

<span class="n">a</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">22</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>So, you need to employ <code class="docutils literal notranslate"><span class="pre">deepcopy</span></code> to really copy an existing object or variable and assign a new name to the copy. So, in summary, shallow copying an object won’t create objects that are independent clones, i.e., the copy is not fully independent of the original. A deep copy of an object will recursively clone “child” objects (like nested parts of a list). The clone is fully independent of the original, but creating a deep copy is slower, as it involves assigning new memory space. Keep in mind that this shallow vs. deep copy business does  not just apply to lists. You can copy arbitrary objects (including custom classes) with the copy module.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Why Python “shallow” copies objects:</strong> This is a bit of a technical detail, but important to keep in mind: Python does shallow copying of mutable objects for (computing) performance considerations. By not copying the underlying object when you re-assign a mutable object to a new (“variable”) name, Python avoids unnecessary memory usage. This is known as “passing by reference” (in contrast to passing by “value”, where a new variable would be actually created in memory). That does not change the fact that shallow vs. deep copying can be confusing, of course!</p>
</div>
</div>
<div class="section" id="python-with-strings">
<h3>Python with strings<a class="headerlink" href="#python-with-strings" title="Permalink to this headline">¶</a></h3>
<p>One of the things that makes python so useful and versatile, is that it has a powerful set of inbuilt commands to perform string manipulations. For example, try these:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot; this is a string &quot;</span>
<span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="c1"># length of s -&gt; 18</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="s2">&quot;-&quot;</span><span class="p">)</span> <span class="c1"># Substitute spaces &quot; &quot; with dashes</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;s&quot;</span><span class="p">)</span> <span class="c1"># First occurrence of s (remember, indexing starts at 0)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;s&quot;</span><span class="p">)</span><span class="c1"># Count the number of &quot;s&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="c1"># Split the string using spaces and make a list </span>
<span class="n">t</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; is &quot;</span><span class="p">)</span> <span class="c1"># Split the string using &quot; is &quot; and make a list out of it</span>
<span class="n">t</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="c1"># remove trailing spaces</span>
<span class="n">t</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="c1"># can perform sequential operations</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;WORD&#39;</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="c1"># can perform operations directy on a literal string </span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="getting-help">
<h3>Getting help<a class="headerlink" href="#getting-help" title="Permalink to this headline">¶</a></h3>
<p>You can do this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>?s.upper
</pre></div>
</div>
<p>Also try <code class="docutils literal notranslate"><span class="pre">help()</span></code> at the python/ipython prompt.</p>
</div>
</div>
<div class="section" id="writing-python-code">
<h2>Writing Python code<a class="headerlink" href="#writing-python-code" title="Permalink to this headline">¶</a></h2>
<p>Now let’s learn to write and run python code from a <code class="docutils literal notranslate"><span class="pre">.py</span></code> file. But first, some guidelines for good code-writing practices (also see the official <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">python style guide</a>):</p>
<ul class="simple">
<li><p>Wrap lines to be &lt;80 characters long. You can use parentheses <code class="docutils literal notranslate"><span class="pre">()</span></code> or signal that the line continues using a backslash <code class="docutils literal notranslate"><span class="pre">\</span></code></p></li>
<li><p>Use either 4 spaces for indentation or tabs, but not both! (I use tabs!)</p></li>
<li><p>Separate functions using a blank line</p></li>
<li><p>When possible, write comments on separate lines</p></li>
</ul>
<p>Make sure you have chosen a particular indent type (space or tab) in whatever code IDE/editor you are using — indentation is all-important in python.</p>
<p>Furthermore,</p>
<ul class="simple">
<li><p>Use “docstrings” to document how to use the code, and <em>comments</em> to explain why and how the code works (we will learn about docstrings soon, below)</p></li>
<li><p>Follow naming conventions, especially:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">_internal_global_variable</span></code> (for use inside module only)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a_variable</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SOME_CONSTANT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a_function</span></code></p></li>
</ul>
</li>
<li><p>Never call a variable <code class="docutils literal notranslate"><span class="pre">l</span></code> or <code class="docutils literal notranslate"><span class="pre">O</span></code> or <code class="docutils literal notranslate"><span class="pre">o</span></code> (<em>why not?</em> – you are likely to confuse it with <code class="docutils literal notranslate"><span class="pre">1</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>!)</p></li>
<li><p>Use spaces around operators and after commas:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">other</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="testing-running-blocks-of-code">
<h3>Testing/Running blocks of code<a class="headerlink" href="#testing-running-blocks-of-code" title="Permalink to this headline">¶</a></h3>
<p>Now that you have seen how all-important indentation of python code is. You can test a block of code, indentation and all, by pasting it directly into the ipython terminal. Let’s try it.</p>
<p><span class="math notranslate nohighlight">\(\star\)</span> Type the following code in a temporary text file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span> <span class="c1">#4 spaces or 2 tabs in this case</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, assign some integer value to a variable <code class="docutils literal notranslate"><span class="pre">x</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">11</span>
</pre></div>
</div>
</div>
</div>
<p>Then, paste this code at the ipython prompt (<code class="docutils literal notranslate"><span class="pre">ctrl+shift+v</span></code>), and hit enter:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span> <span class="c1">#4 spaces or 2 tabs in this case</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Of course, this code is simple, so directly pasting works. For more complex code, you may need to use the ipython <code class="docutils literal notranslate"><span class="pre">%cpaste</span></code> magic function.</p>
</div>
</div>
<div class="section" id="looping-and-the-range-function">
<h2>Looping, and the <code class="docutils literal notranslate"><span class="pre">range</span></code> function<a class="headerlink" href="#looping-and-the-range-function" title="Permalink to this headline">¶</a></h2>
<p>What exactly is going on in the piece of code above? What is <code class="docutils literal notranslate"><span class="pre">i</span></code>? What does <code class="docutils literal notranslate"><span class="pre">range(x)</span></code> do?</p>
<p>Basically, this piece of code runs a <a class="reference external" href="https://en.wikipedia.org/wiki/Control_flow#Loops">loop</a> (“loops”) over the full range of <code class="docutils literal notranslate"><span class="pre">x</span></code> numbers, printing each one of them.</p>
<p>First, let’s understand the <code class="docutils literal notranslate"><span class="pre">range()</span></code> function. This function generates, as the name suggests, a range of integers depending on the input to it. So, for example, range(10) generates 10 numbers, starting at 0:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The start point is 0 because this is Python (it will start at 1 in R, for example). Note that if you try to run<code class="docutils literal notranslate"><span class="pre">range()</span></code> by itself, it will not actually produce a range of numbers. For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">a</span>
</pre></div>
</div>
</div>
</div>
<p>So all you get is the start and end point of the range, stored as <code class="docutils literal notranslate"><span class="pre">a</span></code>, whereas you might have expected to see the actual range of numbers.</p>
<p>But as you saw above, this is a range of integers starting at 0, so 10 will actually not be in the set of numbers that are generated.</p>
<p>The reason why <code class="docutils literal notranslate"><span class="pre">range(10)</span></code> does not give you the actual range of numbers when you call it, is that it is a “generator”. It doesn’t actually produce all numbers at once, but generates them only when needed (in the loop). This is (memory-)efficient, as it does not require a bunch of numbers to be stored in the RAM memory.</p>
<p>You can also use <code class="docutils literal notranslate"><span class="pre">range()</span></code> to generate numbers (and loop over) from a specific range of integers. For example, to generate a range from 1 to 5, do:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Yes, it is slightly counter-intuitive that you have to use <code class="docutils literal notranslate"><span class="pre">range(1,</span> <span class="pre">6)</span></code> to generate numbers from 1 to 5, but that’s inevitable (and something to get used to) because of the fact that Python’s indexing starts at 0!</p>
<p>You can also generate a set of indices that skips values using <code class="docutils literal notranslate"><span class="pre">range()</span></code> like so:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span> <span class="c1"># skip odd numbers</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Play around with range a bit, and also check out its documentation. This is a very important function that you will use again and again!</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">range()</span></code> function in  Python 2 vs Python 3 are entirely different. The Python 3 range() function is actually what is called <code class="docutils literal notranslate"><span class="pre">xrange</span></code> in Python 2. There are in fact both <code class="docutils literal notranslate"><span class="pre">range</span></code> and <code class="docutils literal notranslate"><span class="pre">xrange</span></code> functions in Python 2. <code class="docutils literal notranslate"><span class="pre">xrange</span></code>, renamed as <code class="docutils literal notranslate"><span class="pre">range</span></code>, is now the default in Python 3 because it is more memory efficient.</p>
</div>
<p>OK, on to the variable <code class="docutils literal notranslate"><span class="pre">i</span></code> in our loop. This is a temporary placeholder for the value of <code class="docutils literal notranslate"><span class="pre">x</span></code> at each iteration of the loop (AKA the “iterator” variable). So, in the first iteration of the loop, i = 0, which is also the “index” value of the loop at that point. We have used <code class="docutils literal notranslate"><span class="pre">i</span></code>, but you can use any valid variable name, such as <code class="docutils literal notranslate"><span class="pre">j</span></code>, <code class="docutils literal notranslate"><span class="pre">k</span></code>, or even <code class="docutils literal notranslate"><span class="pre">num</span></code> (try it).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>**Iterator vs Iterable in Python”: In Python an “Iterable” is an object that one can iterate over (e.g., a list or a tuple). In contrast, an “Iterator”, also an object, can iterate over (go element by element through) an iterable. Technically, it is generated an by passing an iterable to an <code class="docutils literal notranslate"><span class="pre">iter()</span></code> method in Python. Iterators themselves have a <code class="docutils literal notranslate"><span class="pre">__next__()</span></code> method, which returns the next item of the object. Note that every iterator is also an iterable, but not every iterable is an iterator. For example, a list is iterable but not an iterator.</p>
</div>
</div>
<div class="section" id="python-input-output">
<h2>Python Input/Output<a class="headerlink" href="#python-input-output" title="Permalink to this headline">¶</a></h2>
<p>Let’s learn to import and export data in python (and write code to do it) .</p>
<p><span class="math notranslate nohighlight">\(\star\)</span> Make a text file called <code class="docutils literal notranslate"><span class="pre">test.txt</span></code> in <code class="docutils literal notranslate"><span class="pre">week2/sandbox/</span></code> with the following content (including the empty lines):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">First</span> <span class="n">Line</span>
<span class="n">Second</span> <span class="n">Line</span>

<span class="n">Third</span> <span class="n">Line</span>

<span class="n">Fourth</span> <span class="n">Line</span>
</pre></div>
</div>
<p>Then, type the following in <code class="docutils literal notranslate"><span class="pre">week2/code/basic_io1.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#############################</span>
<span class="c1"># FILE INPUT</span>
<span class="c1">#############################</span>
<span class="c1"># Open a file for reading</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;../sandbox/test.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="c1"># use &quot;implicit&quot; for loop:</span>
<span class="c1"># if the object is a file, python will cycle over lines</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="c1"># close the file</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Same example, skip blank lines</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;../sandbox/test.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

</pre></div>
</div>
<p>Run the two code blocks (that end in <code class="docutils literal notranslate"><span class="pre">f.close()</span></code>) separately in ipython (you will learn about running whole scripts below) and examine the outputs (changes in <code class="docutils literal notranslate"><span class="pre">test.txt</span></code>). Then run the whole code (both blocks) at one go in ipython.</p>
<p>Note the following:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">line</span> <span class="pre">in</span> <span class="pre">f</span></code> is an implicit loop — implicit because stating the range of things in <code class="docutils literal notranslate"><span class="pre">f</span></code> to loop over in this way allows python to handle any kind of objects to loop through.</p>
<ul>
<li><p>For example, if <code class="docutils literal notranslate"><span class="pre">f</span></code> was an array of numbers 1 to 10, it would loop through them</p></li>
<li><p>Another example: if <code class="docutils literal notranslate"><span class="pre">f</span></code> is a file, as in the case of the script above, it will loop through the lines in the file.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">len(line.strip())</span> <span class="pre">&gt;</span> <span class="pre">0</span></code> checks if the line is empty. Try <code class="docutils literal notranslate"><span class="pre">?</span></code> to see what <code class="docutils literal notranslate"><span class="pre">.strip()</span></code> does.</p></li>
<li><p>There are indentations in the code that determine what is and is not in side the <code class="docutils literal notranslate"><span class="pre">for</span></code> and <code class="docutils literal notranslate"><span class="pre">if</span></code> statements. If you get errors or unexpected outputs, it will very likely be because of wrong or missing indentations.</p></li>
</ul>
<p>Next, type the following code in a file called <code class="docutils literal notranslate"><span class="pre">basic_io2.py</span></code> and run it.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#############################</span>
<span class="c1"># FILE OUTPUT</span>
<span class="c1">#############################</span>
<span class="c1"># Save the elements of a list to a file</span>
<span class="n">list_to_save</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;../sandbox/testout.txt&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">list_to_save</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="c1">## Add a new line at the end</span>

<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Finally, type the following code in <code class="docutils literal notranslate"><span class="pre">basic_io3.py</span></code> and run it.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#############################</span>
<span class="c1"># STORING OBJECTS</span>
<span class="c1">#############################</span>
<span class="c1"># To save an object (even complex) for later use</span>
<span class="n">my_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a key&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;another key&quot;</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="kn">import</span> <span class="nn">pickle</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;../sandbox/testp.p&#39;</span><span class="p">,</span><span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="c1">## note the b: accept binary files</span>
<span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">my_dictionary</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1">## Load the data again</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;../sandbox/testp.p&#39;</span><span class="p">,</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<span class="n">another_dictionary</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">another_dictionary</span><span class="p">)</span>

</pre></div>
</div>
<p>Note the <code class="docutils literal notranslate"><span class="pre">b</span></code> flag for reading a file, which stands for “binary”. Basically, binary files are machine readable, but not human readable. For example, try opening <code class="docutils literal notranslate"><span class="pre">testp.p</span></code> in a text reader (e.g., your code editor)  and reading it - you will see considerable gibberish (compare with <code class="docutils literal notranslate"><span class="pre">testout.txt</span></code>)!</p>
<div class="section" id="handling-csv-s">
<h3>Handling <code class="docutils literal notranslate"><span class="pre">csv</span></code>’s<a class="headerlink" href="#handling-csv-s" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">csv</span></code> package makes it easy to manipulate CSV files. Let’s try it.</p>
<p><span class="math notranslate nohighlight">\(\star\)</span> Get <code class="docutils literal notranslate"> <span class="pre">testcsv.csv</span></code> from TheMulQuaBio’s <code class="docutils literal notranslate"><span class="pre">data</span></code> directory. Then type the following script in a script file called <code class="docutils literal notranslate"><span class="pre">basic_csv.py</span></code> and run it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">csv</span>

<span class="c1"># Read a file containing:</span>
<span class="c1"># &#39;Species&#39;,&#39;Infraorder&#39;,&#39;Family&#39;,&#39;Distribution&#39;,&#39;Body mass male (Kg)&#39;</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;../data/testcsv.csv&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>

<span class="n">csvread</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csvread</span><span class="p">:</span>
    <span class="n">temp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">row</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The species is&quot;</span><span class="p">,</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># write a file containing only species name and Body mass</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;../data/testcsv.csv&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;../data/bodymass.csv&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

<span class="n">csvread</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">csvwrite</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csvread</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
    <span class="n">csvwrite</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="mi">4</span><span class="p">]])</span>

<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p><span class="math notranslate nohighlight">\(\star\)</span> Run this script from bash, bash with ipython, and from within ipython, like you did above for the <code class="docutils literal notranslate"><span class="pre">basic_io*.py</span></code> scripts.</p>
</div>
</div>
<div class="section" id="running-python-scripts">
<h2>Running Python scripts<a class="headerlink" href="#running-python-scripts" title="Permalink to this headline">¶</a></h2>
<p>Now that you have written your first script, you now need to know how to run it (instead of pasting or sending to the command prompt like you did above).</p>
<div class="section" id="using-bash">
<h3>Using bash<a class="headerlink" href="#using-bash" title="Permalink to this headline">¶</a></h3>
<p>Open another bash terminal, and <code class="docutils literal notranslate"><span class="pre">cd</span> </code> to the <code class="docutils literal notranslate"><span class="pre">code</span></code> directory. Then, run the <code class="docutils literal notranslate"><span class="pre">basic_io*.py</span></code> scripts one by one (NOT in the python or ipython shell, but the bash shell!) using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 MyScript.py
</pre></div>
</div>
<p>(replace <code class="docutils literal notranslate"><span class="pre">MyScript.py</span></code> with each of the three <code class="docutils literal notranslate"><span class="pre">basic_io*.py</span></code> one by one)</p>
</div>
<div class="section" id="from-bash-using-ipython">
<h3>From bash, using ipython<a class="headerlink" href="#from-bash-using-ipython" title="Permalink to this headline">¶</a></h3>
<p>Alternatively, you can use ipython:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ipython MyScript.py
</pre></div>
</div>
<p>With the same result.</p>
</div>
<div class="section" id="from-within-the-ipython-shell">
<h3>From within the ipython shell<a class="headerlink" href="#from-within-the-ipython-shell" title="Permalink to this headline">¶</a></h3>
<p>You can also execute python scripts from within the <code class="docutils literal notranslate"><span class="pre">ipython</span></code> shell with</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">run</span> <span class="n">MyScript</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>That is, enter <code class="docutils literal notranslate"><span class="pre">ipython</span></code> from bash (or switch to a terminal where you are already in the ipython shell), and then use the <code class="docutils literal notranslate"><span class="pre">run</span></code> command with the name of the script file.</p>
<p>To run the script from the native python shell, you would use <code class="docutils literal notranslate"><span class="pre">execfile(&quot;MyScript.py&quot;)</span></code>, but we won’t bother doing that (though you can/should try it out for fun!).</p>
</div>
</div>
<div class="section" id="control-flow-tools">
<h2>Control flow tools<a class="headerlink" href="#control-flow-tools" title="Permalink to this headline">¶</a></h2>
<p>OK, let’s get deeper into python code. A computer script or program’s control flow is the order in which the code executes. Upto now, you have written scripts with simple control flows, with the code executing statements from the top to bottom. But very often, you want more flexible flows of commands and statements, for example, where you can switch between alternative commands depending on some condition. This is possible using <em>control flow tools</em>. Let’s learn python’s control flow tools hands-on.</p>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<p>In python, you delineate a function (recall what a function means from the <a class="reference external" href="#Some-terminology">table above</a>) by using indentation. For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">*=</span> <span class="n">x</span> <span class="c1"># same as x = x*x</span>
    <span class="nb">print</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span>
</pre></div>
</div>
</div>
</div>
<p>Now you will have a function object called <code class="docutils literal notranslate"><span class="pre">foo</span></code> in your workspace. You can check this using the <code class="docutils literal notranslate"><span class="pre">%whos</span></code> magic command, which lists and describes all the objects in your workspace:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">whos</span>
</pre></div>
</div>
</div>
</div>
<p>So, <code class="docutils literal notranslate"><span class="pre">foo</span></code> is a function stored in memory (at address given by the value <code class="docutils literal notranslate"><span class="pre">0x...</span></code> in the <code class="docutils literal notranslate"><span class="pre">Data/Info</span></code> column), and ready to serve you!</p>
<p>Now “call it”:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">foo</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Note that the first,  <code class="docutils literal notranslate"><span class="pre">print</span></code> command only outputs the value of <code class="docutils literal notranslate"><span class="pre">x</span></code> to the terminal, whereas, the second <code class="docutils literal notranslate"><span class="pre">return</span></code> command actually outputs it so that you can “capture” and store it.</p>
<p>To see this distinction, let’s try the following.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">*=</span> <span class="n">x</span> <span class="c1"># same as x = x*x</span>
    <span class="nb">print</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Thus, the output of <code class="docutils literal notranslate"><span class="pre">foo</span></code> was stored as a new variable <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">*=</span> <span class="n">x</span> <span class="c1"># same as x = x*x</span>
    <span class="nb">print</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="c1"># return x</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>So, if we don’t explicitly <code class="docutils literal notranslate"><span class="pre">return</span></code> the value of <code class="docutils literal notranslate"><span class="pre">x</span></code>, the output of <code class="docutils literal notranslate"><span class="pre">foo</span></code> cannot be stored.</p>
</div>
<div class="section" id="conditionals">
<h3>Conditionals<a class="headerlink" href="#conditionals" title="Permalink to this headline">¶</a></h3>
<p>Now that we know how to define functions in Python, let’s look at <em>conditionals</em> that allow you fine-grained control over the function’s operations.</p>
<p><span class="math notranslate nohighlight">\(\star\)</span> Run the following functions <em>one by one</em>, by pasting the block in the ipython command line. First, type all them all in a script and save it as <code class="docutils literal notranslate"><span class="pre">cfexercises1.py</span></code>. Then you can send them block by block easily to the command line assuming you have set your code editor to allow selections of code to be sent to terminal directly using a keybinding (typically , ctrl+enter).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># What does each of foo_x do? </span>
<span class="k">def</span> <span class="nf">foo_1</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="mf">0.5</span>

<span class="k">def</span> <span class="nf">foo_2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">x</span>
    <span class="k">return</span> <span class="n">y</span>

<span class="k">def</span> <span class="nf">foo_3</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">:</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="n">y</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">tmp</span>
    <span class="k">if</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">z</span><span class="p">:</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="n">z</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">y</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">tmp</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">foo_4</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="o">*</span> <span class="n">i</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="k">def</span> <span class="nf">foo_5</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="c1"># a recursive function that calculates the factorial of x</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">foo5</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
     
<span class="k">def</span> <span class="nf">foo_6</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="c1"># Calculate the factorial of x in a different way</span>
    <span class="n">facto</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">facto</span> <span class="o">=</span> <span class="n">facto</span> <span class="o">*</span> <span class="n">x</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">facto</span>
</pre></div>
</div>
<p>For example:</p>
<p><em>Think about what each of the foo_x function does before running it.</em> Note that <code class="docutils literal notranslate"><span class="pre">foo_5</span></code> is a recursive function, meaning that the function <a class="reference external" href="https://en.wikipedia.org/wiki/Recursion_(computer_science)">calls itself</a>.</p>
</div>
<div class="section" id="loops">
<h3>Loops<a class="headerlink" href="#loops" title="Permalink to this headline">¶</a></h3>
<p>Write the following, and save them to <code class="docutils literal notranslate"><span class="pre">loops.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># FOR loops in Python</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;geronimo!&quot;</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">my_list</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>

<span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">summands</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">1111</span><span class="p">]</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">summands</span><span class="p">:</span>
    <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">s</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>

<span class="c1"># WHILE loops  in Python</span>
<span class="n">z</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">z</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">z</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>

<span class="n">b</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">while</span> <span class="n">b</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;GERONIMO! infinite loop! ctrl+c to stop!&quot;</span><span class="p">)</span>
<span class="c1"># ctrl + c to stop!</span>
</pre></div>
</div>
<hr class="docutils" />
<p><img alt="image" src="../_images/Geronimo.jpg" />
<small> <center>(Source: Wikipedia)
In case you were wondering who Geronimo was.</p>
</center> </small>
</div>
<hr class="docutils" />
<div class="section" id="loops-and-conditionals-combined">
<h3>Loops and conditionals combined<a class="headerlink" href="#loops-and-conditionals-combined" title="Permalink to this headline">¶</a></h3>
<p><span class="math notranslate nohighlight">\(\star\)</span> Write the following functions and save them to <code class="docutils literal notranslate"><span class="pre">cfexercises2.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">j</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">):</span>
     <span class="k">if</span> <span class="n">j</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
     <span class="k">elif</span> <span class="n">j</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>

<span class="n">z</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">z</span> <span class="o">!=</span> <span class="mi">15</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">z</span> <span class="o">+</span> <span class="mi">3</span>

<span class="n">z</span> <span class="o">=</span> <span class="mi">12</span>
<span class="k">while</span> <span class="n">z</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">z</span> <span class="o">==</span> <span class="mi">31</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">z</span> <span class="o">==</span> <span class="mi">18</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">z</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
<p><em>Try to predict how many times “hello” will be printed before testing each of these functions</em>.</p>
</div>
</div>
<div class="section" id="comprehensions">
<span id="python-comprehensions"></span><h2>Comprehensions<a class="headerlink" href="#comprehensions" title="Permalink to this headline">¶</a></h2>
<p>Python offers a way to combine loops and logical tests / conditionals in a single line of code to transform any <em>iterable</em> object (list, set, or dictionary, over which you can iterate) into another object, after performing some operations on the elements in the original object. That is, they are a compact way to create a new list, dictionary or object from an existing one. As you might expect, there are three types of comprehensions, each corresponding to what the target object is (list, set, dictionary).</p>
<p>Let’s look at how list comprehensions work:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This is the same as writing the following loop:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Here’s another example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;LIST&quot;</span><span class="p">,</span><span class="s2">&quot;COMPREHENSIONS&quot;</span><span class="p">,</span><span class="s2">&quot;ARE&quot;</span><span class="p">,</span><span class="s2">&quot;COOL&quot;</span><span class="p">]]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Which is same as the loop:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;LIST&quot;</span><span class="p">,</span><span class="s2">&quot;COMPREHENSIONS&quot;</span><span class="p">,</span><span class="s2">&quot;ARE&quot;</span><span class="p">,</span><span class="s2">&quot;COOL&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span> <span class="c1"># explicit loop</span>
    <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Or this loop:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;LIST&quot;</span><span class="p">,</span><span class="s2">&quot;COMPREHENSIONS&quot;</span><span class="p">,</span><span class="s2">&quot;ARE&quot;</span><span class="p">,</span><span class="s2">&quot;COOL&quot;</span><span class="p">]</span>
<span class="n">x_new</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span> <span class="c1"># implicit loop</span>
    <span class="n">x_new</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x_new</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>How about a nested loop? Let’s try an example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">matrix</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]]</span>
<span class="n">flattened_matrix</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
        <span class="n">flattened_matrix</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">flattened_matrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>A list comprehension to do the same:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">matrix</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]]</span>
<span class="n">flattened_matrix</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">matrix</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">row</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">flattened_matrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Set and Dictionary comprehensions work in an analogous way. For example, create a set of all the first letters in a sequence of words using a loop:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">words</span> <span class="o">=</span> <span class="p">([</span><span class="s2">&quot;These&quot;</span><span class="p">,</span> <span class="s2">&quot;are&quot;</span><span class="p">,</span> <span class="s2">&quot;some&quot;</span><span class="p">,</span> <span class="s2">&quot;words&quot;</span><span class="p">])</span>
<span class="n">first_letters</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
    <span class="n">first_letters</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">first_letters</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Note that sets are unordered (the first letters don’t appear in the order you might expect).</p>
<p>Now, the same as a set comprehension:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">words</span> <span class="o">=</span> <span class="p">([</span><span class="s2">&quot;These&quot;</span><span class="p">,</span> <span class="s2">&quot;are&quot;</span><span class="p">,</span> <span class="s2">&quot;some&quot;</span><span class="p">,</span> <span class="s2">&quot;words&quot;</span><span class="p">])</span>
<span class="n">first_letters</span> <span class="o">=</span> <span class="p">{</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">words</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">first_letters</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now, type the following in a script file called <code class="docutils literal notranslate"><span class="pre">oaks.py</span></code> and test it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## Finds just those taxa that are oak trees from a list of species</span>

<span class="n">taxa</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;Quercus robur&#39;</span><span class="p">,</span>
         <span class="s1">&#39;Fraxinus excelsior&#39;</span><span class="p">,</span>
         <span class="s1">&#39;Pinus sylvestris&#39;</span><span class="p">,</span>
         <span class="s1">&#39;Quercus cerris&#39;</span><span class="p">,</span>
         <span class="s1">&#39;Quercus petraea&#39;</span><span class="p">,</span>
       <span class="p">]</span>

<span class="k">def</span> <span class="nf">is_an_oak</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;quercus &#39;</span><span class="p">)</span>

<span class="c1">##Using for loops</span>
<span class="n">oaks_loops</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="k">for</span> <span class="n">species</span> <span class="ow">in</span> <span class="n">taxa</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">is_an_oak</span><span class="p">(</span><span class="n">species</span><span class="p">):</span>
        <span class="n">oaks_loops</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">species</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">oaks_loops</span><span class="p">)</span>

<span class="c1">##Using list comprehensions   </span>
<span class="n">oaks_lc</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">species</span> <span class="k">for</span> <span class="n">species</span> <span class="ow">in</span> <span class="n">taxa</span> <span class="k">if</span> <span class="n">is_an_oak</span><span class="p">(</span><span class="n">species</span><span class="p">)])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">oaks_lc</span><span class="p">)</span>

<span class="c1">##Get names in UPPER CASE using for loops</span>
<span class="n">oaks_loops</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="k">for</span> <span class="n">species</span> <span class="ow">in</span> <span class="n">taxa</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">is_an_oak</span><span class="p">(</span><span class="n">species</span><span class="p">):</span>
        <span class="n">oaks_loops</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">species</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">oaks_loops</span><span class="p">)</span>

<span class="c1">##Get names in UPPER CASE using list comprehensions</span>
<span class="n">oaks_lc</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">species</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">for</span> <span class="n">species</span> <span class="ow">in</span> <span class="n">taxa</span> <span class="k">if</span> <span class="n">is_an_oak</span><span class="p">(</span><span class="n">species</span><span class="p">)])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">oaks_lc</span><span class="p">)</span>
</pre></div>
</div>
<p>Carefully compare the looping vs list comprehension way for the two  tasks (find oak tree species names and get names in upper case) to make sure you understand what’s going on.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Don’t go mad with list comprehensions — code readability is more important than squeezing lots into a single line! They can also make your code run more slowly or use more memory in some cases (we will learn about this more in the <a class="reference internal" href="06-Python_II.html"><span class="doc std std-doc">second Python Chapter</span></a>).</p>
</div>
</div>
<div class="section" id="variable-scope">
<h2>Variable scope<a class="headerlink" href="#variable-scope" title="Permalink to this headline">¶</a></h2>
<p>One important thing to note about functions, in any programming language, is that variables created inside functions are invisible outside of it, nor do they persist once the function has run unless they are explicitly returned. These are called “local” variables, and are only accessible inside their function. However, “global” variables are visible inside and outside of functions. In Python, you can assign global variables like any other programming language.</p>
<p>To understand this, let’s look at an example.</p>
<p>First try this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">_a_global</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># a global variable</span>

<span class="k">if</span> <span class="n">_a_global</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span>
    <span class="n">_b_global</span> <span class="o">=</span> <span class="n">_a_global</span> <span class="o">+</span> <span class="mi">5</span> <span class="c1"># also a global variable</span>

<span class="k">def</span> <span class="nf">a_function</span><span class="p">():</span>
    <span class="n">_a_global</span> <span class="o">=</span> <span class="mi">5</span> <span class="c1"># a local variable</span>
    
    <span class="k">if</span> <span class="n">_a_global</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span>
        <span class="n">_b_global</span> <span class="o">=</span> <span class="n">_a_global</span> <span class="o">+</span> <span class="mi">5</span> <span class="c1"># also a local variable</span>
    
    <span class="n">_a_local</span> <span class="o">=</span> <span class="mi">4</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inside the function, the value of _a_global is &quot;</span><span class="p">,</span> <span class="n">_a_global</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inside the function, the value of _b_global is &quot;</span><span class="p">,</span> <span class="n">_b_global</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inside the function, the value of _a_local is &quot;</span><span class="p">,</span> <span class="n">_a_local</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="kc">None</span>

<span class="n">a_function</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outside the function, the value of _a_global is &quot;</span><span class="p">,</span> <span class="n">_a_global</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outside the function, the value of _b_global is &quot;</span><span class="p">,</span> <span class="n">_b_global</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Thus,though <code class="docutils literal notranslate"><span class="pre">_a_global</span></code> was overwritten inside the function, what happened inside the function remained inside the function (<em>What happens in Vegas…</em>) . Note that <code class="docutils literal notranslate"><span class="pre">_a_global</span></code> is just a naming convention – nothing special about this variable as such.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong><code class="docutils literal notranslate"><span class="pre">return</span></code>ing a <code class="docutils literal notranslate"><span class="pre">None</span></code>:</strong> Why <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">None</span></code> in the above script? The short answer is, it good practice to do so, much as putting in an explicit <code class="docutils literal notranslate"><span class="pre">exit</span></code> in a shell script is. The <strong><code class="docutils literal notranslate"><span class="pre">None</span></code></strong> keyword is used to define a NULL value (no value at all). It is is actually a special dummy value and has a data type of its own called <code class="docutils literal notranslate"><span class="pre">NoneType</span></code> (try <code class="docutils literal notranslate"><span class="pre">type(None)</span></code>). As such, Python functions do have a default return value, which is in fact <code class="docutils literal notranslate"><span class="pre">None</span></code> if no return expression is given, or <code class="docutils literal notranslate"><span class="pre">return</span></code> is given on its own.</p>
</div>
<p>Of course, if you assign a variable outside a function, it will be available inside it even if you don’t assign it inside that function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">_a_global</span> <span class="o">=</span> <span class="mi">10</span>

<span class="k">def</span> <span class="nf">a_function</span><span class="p">():</span>
    <span class="n">_a_local</span> <span class="o">=</span> <span class="mi">4</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inside the function, the value _a_local is &quot;</span><span class="p">,</span> <span class="n">_a_local</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inside the function, the value of _a_global is &quot;</span><span class="p">,</span> <span class="n">_a_global</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="kc">None</span>

<span class="n">a_function</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outside the function, the value of _a_global is&quot;</span><span class="p">,</span> <span class="n">_a_global</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>So <code class="docutils literal notranslate"><span class="pre">_a_global</span></code> was available to the function, and you were able to use it in the <code class="docutils literal notranslate"><span class="pre">print</span></code> command.</p>
<p>If you really want to modify or assign a global variable from inside a function (that is, and make it available outside the function), you can use the <code class="docutils literal notranslate"><span class="pre">global</span></code> keyword:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">_a_global</span> <span class="o">=</span> <span class="mi">10</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outside the function, the value of _a_global is&quot;</span><span class="p">,</span> <span class="n">_a_global</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">a_function</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">_a_global</span>
    <span class="n">_a_global</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">_a_local</span> <span class="o">=</span> <span class="mi">4</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inside the function, the value of _a_global is &quot;</span><span class="p">,</span> <span class="n">_a_global</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inside the function, the value _a_local is &quot;</span><span class="p">,</span> <span class="n">_a_local</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="kc">None</span>

<span class="n">a_function</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outside the function, the value of _a_global now is&quot;</span><span class="p">,</span> <span class="n">_a_global</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>So, using the <code class="docutils literal notranslate"><span class="pre">global</span></code> specification converted <code class="docutils literal notranslate"><span class="pre">_a_global</span></code> to a truly global variable that became available outside that function (overwriting the original <code class="docutils literal notranslate"><span class="pre">_a_global</span></code>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">global</span></code> keyword also works from inside nested functions, but it can be slightly confusing:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">a_function</span><span class="p">():</span>
    <span class="n">_a_global</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="k">def</span> <span class="nf">_a_function2</span><span class="p">():</span>
        <span class="k">global</span> <span class="n">_a_global</span>
        <span class="n">_a_global</span> <span class="o">=</span> <span class="mi">20</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Before calling a_function, value of _a_global is &quot;</span><span class="p">,</span> <span class="n">_a_global</span><span class="p">)</span>

    <span class="n">_a_function2</span><span class="p">()</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After calling _a_function2, value of _a_global is &quot;</span><span class="p">,</span> <span class="n">_a_global</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="kc">None</span>

<span class="n">a_function</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The value of a_global in main workspace / namespace is &quot;</span><span class="p">,</span> <span class="n">_a_global</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>That is, using the <code class="docutils literal notranslate"><span class="pre">global</span></code> keyword inside the inner function <code class="docutils literal notranslate"><span class="pre">_a_function2</span></code> resulted in changing the value of <code class="docutils literal notranslate"><span class="pre">_a_global</span></code> in the main worspace / namespace to 20, but within the scope of <code class="docutils literal notranslate"><span class="pre">_a_function</span></code>, remained 10!</p>
<p>Compare the above with this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">_a_global</span> <span class="o">=</span> <span class="mi">10</span>

<span class="k">def</span> <span class="nf">a_function</span><span class="p">():</span>

    <span class="k">def</span> <span class="nf">_a_function2</span><span class="p">():</span>
        <span class="k">global</span> <span class="n">_a_global</span>
        <span class="n">_a_global</span> <span class="o">=</span> <span class="mi">20</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Before calling a_function, value of _a_global is &quot;</span><span class="p">,</span> <span class="n">_a_global</span><span class="p">)</span>

    <span class="n">_a_function2</span><span class="p">()</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After calling _a_function2, value of _a_global is &quot;</span><span class="p">,</span> <span class="n">_a_global</span><span class="p">)</span>

<span class="n">a_function</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The value of a_global in main workspace / namespace is &quot;</span><span class="p">,</span> <span class="n">_a_global</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now, because <code class="docutils literal notranslate"><span class="pre">_a_global</span></code> was defined in advance (outside the first function), it get modified when changes in the inner function (it does not exist as a local within the scope of <code class="docutils literal notranslate"><span class="pre">_a_function</span></code>, but is “inherited” from the main scope / workspace / namespace).</p>
<p><span class="math notranslate nohighlight">\(\star\)</span> Collect all blocks of code above illustrating variable scope into one script called <code class="docutils literal notranslate"><span class="pre">scope.py</span></code> and test it (run and check for errors).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In general, avoid assigning globals because you run the risk of “exposing” unwanted variables to all functions within your workspace / namespace.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>In some cases you may find it useful to assign one or more global variables that are shared across multiple modules/functions. You can do this by assigning those variables as  global at the start of the script/program, but a better, safer option is to create a separate module (say, called <code class="docutils literal notranslate"><span class="pre">config.py</span></code>) to hold the global variables and then <code class="docutils literal notranslate"><span class="pre">import</span></code> it where needed.</p>
</div>
<div class="section" id="importance-of-the-return-directive">
<h3>Importance of the <code class="docutils literal notranslate"><span class="pre">return</span></code> directive<a class="headerlink" href="#importance-of-the-return-directive" title="Permalink to this headline">¶</a></h3>
<p>In the context of scope of variables, it is also important to keep in mind that in Python, arguments are passed to a function <a class="reference external" href="https://docs.python.org/3/faq/programming.html#how-do-i-write-a-function-with-output-parameters-call-by-reference">by assignment</a>. This is a bit of a technical detail that we don’t need to go into here, but basically, in practice, this means that for mutable objects such as lists, unless you do something special, if a function modifies the (mutable) variable inside it, the original variable outside the function remains unchanged.</p>
<p>Let’s look at an example to understand this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">modify_list_1</span><span class="p">(</span><span class="n">some_list</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;got&#39;</span><span class="p">,</span> <span class="n">some_list</span><span class="p">)</span>
    <span class="n">some_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;set to&#39;</span><span class="p">,</span> <span class="n">some_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;before, my_list =&#39;</span><span class="p">,</span> <span class="n">my_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">modify_list_1</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;after, my_list =&#39;</span><span class="p">,</span> <span class="n">my_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The original list remains the same even though it is changed inside the function!</p>
<p>This is where the <code class="docutils literal notranslate"><span class="pre">return</span></code> directive becomes important. Now modify the function to <code class="docutils literal notranslate"><span class="pre">return</span></code> the value of the input list:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">modify_list_2</span><span class="p">(</span><span class="n">some_list</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;got&#39;</span><span class="p">,</span> <span class="n">some_list</span><span class="p">)</span>
    <span class="n">some_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;set to&#39;</span><span class="p">,</span> <span class="n">some_list</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">some_list</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span> <span class="o">=</span> <span class="n">modify_list_2</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;after, my_list =&#39;</span><span class="p">,</span> <span class="n">my_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>So now the original <code class="docutils literal notranslate"><span class="pre">my_list</span></code> is changed because you explicitly replaced it. This reinforces the fact that explicit <code class="docutils literal notranslate"><span class="pre">return</span></code> statements are important.</p>
<p>And if we do want to modify the original list <em>in place</em>, use <code class="docutils literal notranslate"><span class="pre">append</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">modify_list_3</span><span class="p">(</span><span class="n">some_list</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;got&#39;</span><span class="p">,</span> <span class="n">some_list</span><span class="p">)</span>
    <span class="n">some_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># an actual modification of the list</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;changed to&#39;</span><span class="p">,</span> <span class="n">some_list</span><span class="p">)</span>

<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;before, my_list =&#39;</span><span class="p">,</span> <span class="n">my_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">modify_list_3</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;after, my_list =&#39;</span><span class="p">,</span> <span class="n">my_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>That did it. So <code class="docutils literal notranslate"><span class="pre">append</span></code> will actually change the original list object. However, the fact still remains that you should use a <code class="docutils literal notranslate"><span class="pre">return</span></code> statement at the end of the function to be safe and be able to capture the output (and use it to replace an existing variable if needed).</p>
</div>
</div>
<div class="section" id="writing-python-programs">
<h2>Writing Python programs<a class="headerlink" href="#writing-python-programs" title="Permalink to this headline">¶</a></h2>
<p>Now let’s start with proper python programs.</p>
<p>The difference between scripts (which you have been writing till now) and programs is that the latter can be “compiled” into a self standing application or utility. This distinction will not mean much to you currently, but eventually will, once you have converted a script to a program below!</p>
<p>We will start with a “boilerplate” (template) program, just as we did in the <a class="reference external" href="./02-ShellScripting.ipynb#Your-first-shell-script">shell scripting chapter</a>.</p>
<p><span class="math notranslate nohighlight">\(\star\)</span> Type the code below and save as <code class="docutils literal notranslate"><span class="pre">boilerplate.py</span></code> in <code class="docutils literal notranslate"><span class="pre">week2/code</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>

<span class="sd">&quot;&quot;&quot;Description of this program or application.</span>
<span class="sd">You can use several lines&quot;&quot;&quot;</span>

<span class="n">__appname__</span> <span class="o">=</span> <span class="s1">&#39;[application name here]&#39;</span>
<span class="n">__author__</span> <span class="o">=</span> <span class="s1">&#39;Your Name (your@email.address)&#39;</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="s1">&#39;0.0.1&#39;</span>
<span class="n">__license__</span> <span class="o">=</span> <span class="s2">&quot;License for this code/program&quot;</span>

<span class="c1">## imports ##</span>
<span class="kn">import</span> <span class="nn">sys</span> <span class="c1"># module to interface our program with the operating system</span>

<span class="c1">## constants ##</span>


<span class="c1">## functions ##</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">argv</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Main entry point of the program &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This is a boilerplate&#39;</span><span class="p">)</span> <span class="c1"># NOTE: indented using two tabs or 4 spaces</span>
    <span class="k">return</span> <span class="mi">0</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;Makes sure the &quot;main&quot; function is called from command line&quot;&quot;&quot;</span>  
    <span class="n">status</span> <span class="o">=</span> <span class="n">main</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
</pre></div>
</div>
<p>Now open another bash terminal, and <code class="docutils literal notranslate"><span class="pre">cd</span> </code> to the code directory and run the code. Then, run the code (NOT in the python or ipython shell, but the bash shell! ):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 boilerplate.py
</pre></div>
</div>
<p>You should get:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>This is a boilerplate
</pre></div>
</div>
<p>Alternatively, you can use ipython like you did above:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ipython boilerplate.py
</pre></div>
</div>
<p>With the same result.</p>
<p>And again, like before, you can also execute this program file from within the <code class="docutils literal notranslate"><span class="pre">ipython</span></code> shell with <code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">MyScript.py</span></code>. Enter <code class="docutils literal notranslate"><span class="pre">ipython</span></code> from bash (or switch to a terminal where you are already in the ipython shell), and do:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">run</span> boilerplate.py
</pre></div>
</div>
</div>
</div>
<div class="section" id="components-of-the-python-program">
<h3>Components of the Python program<a class="headerlink" href="#components-of-the-python-program" title="Permalink to this headline">¶</a></h3>
<p>Now let’s examine the elements of your first, boilerplate code:</p>
<div class="section" id="the-shebang">
<h4>The shebang<a class="headerlink" href="#the-shebang" title="Permalink to this headline">¶</a></h4>
<p>Just like UNIX shell scripts, the first “shebang” line tells the computer where to look for python. It determines the script’s ability to be executed when compiled as part of a standalone program. It isn’t absolutely necessary, but it is good practice to use it, and it is also also useful because when someone examines the file in an editor, they immediately know what they’re looking at.</p>
<p>However, which shebang line you use is important. Here by using <code class="docutils literal notranslate"><span class="pre">#!/usr/bin/env</span> <span class="pre">python3</span></code> we are specifying the location to the python executable in your machine that the rest of the script needs to be interpreted with. You may use <code class="docutils literal notranslate"><span class="pre">#!/usr/bin/python</span></code> instead, but this might not work on somebody else’s machine if the Python executable isn’t actually located at <code class="docutils literal notranslate"><span class="pre">/usr/bin/</span></code>.</p>
</div>
<div class="section" id="the-docstring">
<h4>The Docstring<a class="headerlink" href="#the-docstring" title="Permalink to this headline">¶</a></h4>
<p>Triple quotes start a “docstring” comment, which is meant to describe the operation of the script or a function/module within it. Docstrings are considered part of the running code, while normal comments are
stripped. Hence, you can access your docstrings at run time. It is a good idea to have doctrings at the start of every python script and module as it can provide useful information to the user and you as well, down the line.</p>
<p>You can access the docstring(s) in a script (both for the overall script and the ones in each of its functions), by importing the function (say, <code class="docutils literal notranslate"><span class="pre">my_func</span></code>), and then typing <code class="docutils literal notranslate"><span class="pre">help(my_func)</span></code> or <code class="docutils literal notranslate"><span class="pre">?my_func</span></code> in the python or ipython shell. For example, try <code class="docutils literal notranslate"> <span class="pre">import</span> <span class="pre">boilerplate</span></code> and then <code class="docutils literal notranslate"><span class="pre">help(boilerplate)</span></code> (but you have to be in the python or ipython shell).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">boilerplate</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">boilerplate</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Docstrings vs. Comments</strong>: In short, Docstrings tell the user how to use some Python code, while and Comments explain why and how certain parts of the code work. Thus Docstrings are are enhanced comments that serve as documentation for Python code, including for any functions/modules and classes in it. Comments explain non-obvious portions of the code.</p>
</div>
</div>
<div class="section" id="internal-variables">
<h4>Internal Variables<a class="headerlink" href="#internal-variables" title="Permalink to this headline">¶</a></h4>
<p>“<code class="docutils literal notranslate"><span class="pre">__</span></code>” signal “internal” variables (never name your variables so!). These are special variables names reserved by python for its own purposes. For more on the usage of underscores in python, <a class="reference external" href="https://www.datacamp.com/community/tutorials/role-underscore-python">see this</a>.</p>
</div>
<div class="section" id="function-definitions-and-modules">
<h4>Function <code class="docutils literal notranslate"><span class="pre">def</span></code>initions and “modules”<a class="headerlink" href="#function-definitions-and-modules" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">def</span></code> indicates the start of a python function (aka “module”); all subsequent lines must be indented.</p>
<p>It’s important to know that somewhat confusingly, Pythonistas call a file containing function <code class="docutils literal notranslate"><span class="pre">def</span></code>itions) and statements (e.g., assignments of constant variables) a “module”. There is a practical reason (there’s always one!) for this. You might want to use a particular set of python <code class="docutils literal notranslate"><span class="pre">def</span></code>’s (functions) and statements either as a standalone function, or use it or subsets of it from other scripts. So in theory, every function you <code class="docutils literal notranslate"><span class="pre">def</span></code>ine can be a sub-module usable by other scripts.</p>
<p><em>In other words, <code class="docutils literal notranslate"><span class="pre">def</span></code>initions from a module can be imported into other modules and scripts, or into the main program itself.</em></p>
<p>The last few lines, including the <code class="docutils literal notranslate"><span class="pre">main</span></code> function/module are somewhat esoteric but important; more on this below.</p>
</div>
<div class="section" id="why-include-name-main-and-all-that-jazz">
<h4>Why include <code class="docutils literal notranslate"><span class="pre">__name__</span> <span class="pre">==</span> <span class="pre">&quot;__main__&quot;</span></code> and all that jazz<a class="headerlink" href="#why-include-name-main-and-all-that-jazz" title="Permalink to this headline">¶</a></h4>
<p>When you run a Python module with or without arguments, the code in the called module will be executed just as if you imported it, but with the <code class="docutils literal notranslate"><span class="pre">__name__</span></code> set to <code class="docutils literal notranslate"><span class="pre">&quot;__main__&quot;</span></code>. So adding this code at the end of your module,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">):</span>
</pre></div>
</div>
<p>directs the python interpreter to set the special <code class="docutils literal notranslate"><span class="pre">__name__</span></code> variable to have a value <code class="docutils literal notranslate"><span class="pre">&quot;__main__&quot;</span></code>, so that the file is usable as a script <em>as well as</em> an importable module (important for packaging and re-usability).</p>
<p>How do you import? Simply as (in python or ipython shell):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">boilerplate</span>
</pre></div>
</div>
</div>
</div>
<p>Then type</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">boilerplate</span>
</pre></div>
</div>
</div>
</div>
<p>So when you ran your module by itself using <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">boilerplate.py</span></code> (as you did above by opening a separate bash shell), having <code class="docutils literal notranslate"><span class="pre">__name__</span> <span class="pre">=</span> <span class="pre">&quot;__main__&quot;</span></code> made the Python interpreter assign the string <code class="docutils literal notranslate"><span class="pre">&quot;__main__&quot;</span></code> to the <code class="docutils literal notranslate"><span class="pre">__name__</span></code> variable inside the module, so that the your module execution was forced to start with the control flow <em>first</em> passing through the <code class="docutils literal notranslate"><span class="pre">main</span></code> function.</p>
<p>On the other hand, if <em>some other module</em> (not <code class="docutils literal notranslate"><span class="pre">boilerplate</span></code>) is the main program, and you want to import the boilerplate module into it (with <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">boilerplate</span></code>), the interpreter looks at the filename of your module (<code class="docutils literal notranslate"><span class="pre">boilerplate.py</span></code>), strips off the <code class="docutils literal notranslate"><span class="pre">.py</span></code>, and assigns that string (<code class="docutils literal notranslate"><span class="pre">boilerplate</span></code>) to the imported module’s <code class="docutils literal notranslate"><span class="pre">__name__</span></code> variable instead, skipping the command(s) under the <code class="docutils literal notranslate"><span class="pre">if</span></code> statement of <code class="docutils literal notranslate"><span class="pre">boilerplate.py</span></code>.</p>
<p>Let’s write a script to illustrate this.</p>
<p><span class="math notranslate nohighlight">\(\star\)</span> Type and save the following in a script file called <code class="docutils literal notranslate"><span class="pre">using_name.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># Filename: using_name.py</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This program is being run by itself&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;I am being imported from another module&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This module&#39;s name is: &quot;</span> <span class="o">+</span> <span class="vm">__name__</span><span class="p">)</span>
</pre></div>
</div>
<p>Now run it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">run</span> using_name.py
</pre></div>
</div>
</div>
</div>
<p>Now, try:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">using_name</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Also please look up the <a class="reference external" href="https://docs.python.org/3/tutorial/modules.html">official python doc for modules</a>.</p>
</div>
</div>
<div class="section" id="what-is-sys-argv">
<h4>What is <code class="docutils literal notranslate"><span class="pre">sys.argv</span></code>?<a class="headerlink" href="#what-is-sys-argv" title="Permalink to this headline">¶</a></h4>
<p>In your boilerplate code, as any other Python code, <code class="docutils literal notranslate"><span class="pre">argv</span></code> is the “argument variable”. Such variables are necessarily very common across programming languages, and play an important role — <code class="docutils literal notranslate"><span class="pre">argv</span></code> is a variable that holds the arguments you pass to your Python script when you run it (like <code class="docutils literal notranslate"><span class="pre">$var</span></code> in shell scripts). <code class="docutils literal notranslate"><span class="pre">sys.argv</span></code> is simply an object created by python using the <code class="docutils literal notranslate"><span class="pre">sys</span></code> module (which you imported at the beginning of the script) that contains the names of the argument variables in the current script.</p>
<p>To understand this in a practical way, write and save a script called <code class="docutils literal notranslate"><span class="pre">sysargv.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This is the name of the script: &quot;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of arguments: &quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The arguments are: &quot;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">))</span>
</pre></div>
</div>
<p>Now run <code class="docutils literal notranslate"><span class="pre">sysargv.py</span></code> with different numbers of arguments:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">run</span> sysargv.py
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">run</span> <span class="n">sysargv</span><span class="o">.</span><span class="n">py</span> <span class="n">var1</span> <span class="n">var2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">run</span> <span class="n">sysargv</span><span class="o">.</span><span class="n">py</span> <span class="mi">1</span> <span class="mi">2</span> <span class="n">var3</span>
</pre></div>
</div>
</div>
</div>
<p>As you can see the first variable is always the file name, and is always available to the Python interpreter.</p>
<p>Then, the command <code class="docutils literal notranslate"><span class="pre">main(argv=sys.argv)</span></code> directs the interpreter to pass the argument variables to the main function.</p>
</div>
<div class="section" id="what-is-main-argv">
<h4>What is <code class="docutils literal notranslate"><span class="pre">main(argv)</span></code> ?<a class="headerlink" href="#what-is-main-argv" title="Permalink to this headline">¶</a></h4>
<p>Now for the final bit of your python boilerplate:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">argv</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This is a boilerplate&#39;</span><span class="p">)</span> <span class="c1"># NOTE: indented using two tabs or four spaces</span>
</pre></div>
</div>
<p>This is the main function. Arguments obtained in the <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(__name__</span> <span class="pre">==</span> <span class="pre">&quot;__main__&quot;):</span></code> part of the script are “fed” to
this main function where the printing of the line “This is a boilerplate” happens.</p>
</div>
<div class="section" id="finally-sys-exit">
<h4>Finally, sys.exit()<a class="headerlink" href="#finally-sys-exit" title="Permalink to this headline">¶</a></h4>
<p>OK, finally, what about:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sys.exit<span class="o">(</span>status<span class="o">)</span>
</pre></div>
</div>
<p>It’s just a way to terminate and exit the Python program in an explicit manner, returning an appropriate status code (recall the <code class="docutils literal notranslate"><span class="pre">exit</span></code> command from the <a class="reference internal" href="02-ShellScripting.html"><span class="doc std std-doc">shell scripting chapter</span></a>). In this case, we have decided that <code class="docutils literal notranslate"><span class="pre">main()</span></code> returns 0 on a successful run, so <code class="docutils literal notranslate"> <span class="pre">sys.exit(status)</span></code> will return zero (because status = 0 upon successful termination of the <code class="docutils literal notranslate"><span class="pre">main</span></code> program) indicating “successful termination”.</p>
<p>Try putting <code class="docutils literal notranslate"><span class="pre">sys.exit(&quot;I</span> <span class="pre">am</span> <span class="pre">exiting</span> <span class="pre">right</span> <span class="pre">now!&quot;)</span></code> in other places in <code class="docutils literal notranslate"><span class="pre">boilerplate.py</span></code> and see what happens.</p>
</div>
</div>
<div class="section" id="a-program-with-control-flows-example">
<h3>A program-with-control-flows example<a class="headerlink" href="#a-program-with-control-flows-example" title="Permalink to this headline">¶</a></h3>
<p>Let’s now look at an example of a script that uses various control flow tools within a standard python program structure.</p>
<p>To begin, first copy and rename <code class="docutils literal notranslate"><span class="pre">boilerplate.py</span></code> (to make use of it’s existing structure and save you some typing):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp boilerplate.py control_flow.py
</pre></div>
</div>
<p>Then type the following script into <code class="docutils literal notranslate"><span class="pre">control_flow.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>

<span class="sd">&quot;&quot;&quot;Some functions exemplifying the use of control statements&quot;&quot;&quot;</span>
<span class="c1">#docstrings are considered part of the running code (normal comments are</span>
<span class="c1">#stripped). Hence, you can access your docstrings at run time.</span>
<span class="n">__author__</span> <span class="o">=</span> <span class="s1">&#39;Samraat Pawar (s.pawar@imperial.ac.uk)&#39;</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="s1">&#39;0.0.1&#39;</span>

<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">even_or_odd</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span> <span class="c1"># if not specified, x should take value 0.</span>

    <span class="sd">&quot;&quot;&quot;Find whether a number x is even or odd.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="c1">#The conditional if</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> is Even!&quot;</span> <span class="o">%</span> <span class="n">x</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> is Odd!&quot;</span> <span class="o">%</span> <span class="n">x</span>

<span class="k">def</span> <span class="nf">largest_divisor_five</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">120</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Find which is the largest divisor of x among 2,3,4,5.&quot;&quot;&quot;</span>
    <span class="n">largest</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">largest</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="k">elif</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="c1">#means &quot;else, if&quot;</span>
        <span class="n">largest</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="k">elif</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">largest</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="k">elif</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">largest</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="k">else</span><span class="p">:</span> <span class="c1"># When all other (if, elif) conditions are not met</span>
        <span class="k">return</span> <span class="s2">&quot;No divisor found for </span><span class="si">%d</span><span class="s2">!&quot;</span> <span class="o">%</span> <span class="n">x</span> <span class="c1"># Each function can return a value or a variable.</span>
    <span class="k">return</span> <span class="s2">&quot;The largest divisor of </span><span class="si">%d</span><span class="s2"> is </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">largest</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">is_prime</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">70</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Find whether an integer is prime.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span> <span class="c1">#  &quot;range&quot; returns a sequence of integers</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
          <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> is not a prime: </span><span class="si">%d</span><span class="s2"> is a divisor&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span> 
          <span class="k">return</span> <span class="kc">False</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> is a prime!&quot;</span> <span class="o">%</span> <span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span> 

<span class="k">def</span> <span class="nf">find_all_primes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">22</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Find all the primes up to x&quot;&quot;&quot;</span>
    <span class="n">allprimes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
      <span class="k">if</span> <span class="n">is_prime</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
        <span class="n">allprimes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There are </span><span class="si">%d</span><span class="s2"> primes between 2 and </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">allprimes</span><span class="p">),</span> <span class="n">x</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">allprimes</span>
      
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">argv</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">even_or_odd</span><span class="p">(</span><span class="mi">22</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">even_or_odd</span><span class="p">(</span><span class="mi">33</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">largest_divisor_five</span><span class="p">(</span><span class="mi">120</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">largest_divisor_five</span><span class="p">(</span><span class="mi">121</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="mi">60</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="mi">59</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">find_all_primes</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
    <span class="k">return</span> <span class="mi">0</span>

<span class="k">if</span> <span class="p">(</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">):</span>
    <span class="n">status</span> <span class="o">=</span> <span class="n">main</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
</pre></div>
</div>
<p>Now run the code:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">run</span> <span class="n">control_flow</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div>
</div>
<p>You can also call any of the functions within <code class="docutils literal notranslate"><span class="pre">control_flow.py</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">even_or_odd</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This is possible without explicitly importing the modules because you are only running one script. You would have to do an explicit <code class="docutils literal notranslate"><span class="pre">import</span></code> if you needed a module from another python script file.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>Formatting output for printing:</strong> Note the usage of <code class="docutils literal notranslate"><span class="pre">%d</span></code>, <code class="docutils literal notranslate"><span class="pre">%s</span></code>, etc in the script above. This is for formatting the output of a particular operation/method nicely in a string that is printed to screen or a file. The basic formatting types are <code class="docutils literal notranslate"><span class="pre">%d</span></code>, <code class="docutils literal notranslate"><span class="pre">%s</span></code>, <code class="docutils literal notranslate"><span class="pre">%f</span></code>, <code class="docutils literal notranslate"><span class="pre">%e</span></code>, for decimals, strings, floats, and floats with scientific notation, respectively. Try this in ipython:</p>
<p><code class="docutils literal notranslate"><span class="pre">print(&quot;%d</span> <span class="pre">%s</span> <span class="pre">%f</span> <span class="pre">%e&quot;</span> <span class="pre">%</span> <span class="pre">(20,&quot;30&quot;,0.0003,0.00003))</span></code></p>
<p>But there are more modern pythonic ways to do this as well. <a class="reference external" href="https://pyformat.info">See this</a>.</p>
</div>
</div>
</div>
<div class="section" id="practicals">
<h2>Practicals<a class="headerlink" href="#practicals" title="Permalink to this headline">¶</a></h2>
<p>As always, test, add, commit and push all your new code and data to your git repository.</p>
<p><em>In general, follow good programming practices such as commenting where necessary, and using pythonic ways to make your code more user-friendly, such as by using docstrings.</em></p>
<div class="section" id="id2">
<h3>Comprehensions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Open and complete the tasks in <code class="docutils literal notranslate"><span class="pre">lc1.py</span></code>, <code class="docutils literal notranslate"><span class="pre">lc2.py</span></code>, <code class="docutils literal notranslate"><span class="pre">dictionary.py</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple.py</span></code> available on TheMulQuaBio repo (you can tackle them in any order).</p>
</div>
<div class="section" id="writing-a-program-with-control-flows">
<h3>Writing a Program with Control flows<a class="headerlink" href="#writing-a-program-with-control-flows" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Modify <code class="docutils literal notranslate"><span class="pre">cfexercises1.py</span></code> to make it a “module” like <code class="docutils literal notranslate"> <span class="pre">control_flow.py</span></code>). That is, all the <code class="docutils literal notranslate"><span class="pre">foo_x</span></code> functions should take arguments from the user (like the functions inside <code class="docutils literal notranslate"> <span class="pre">control_flow.py</span></code>.</p></li>
<li><p>Also, add some test arguments to show that they work (again, like <code class="docutils literal notranslate"><span class="pre">control_flow.py</span></code>) — for example, <code class="docutils literal notranslate"><span class="pre">foo_5(10)</span></code>. Thus, running <code class="docutils literal notranslate"><span class="pre">cfexercises1.py</span></code> should now output evaluations of all the <code class="docutils literal notranslate"><span class="pre">foo_x</span></code> functions.</p></li>
</ul>
</div>
</div>
<div class="section" id="errors-in-your-python-code">
<span id="python-errors"></span><h2>Errors in your Python code<a class="headerlink" href="#errors-in-your-python-code" title="Permalink to this headline">¶</a></h2>
<p>What do you want from your code? Rank the following by importance:</p>
<ol class="simple">
<li><p>it is very fast</p></li>
<li><p>it gives me the right answer</p></li>
<li><p>it is easy to read</p></li>
<li><p>it uses lots of ‘clever’ programming techniques</p></li>
<li><p>it uses cool features of the language</p></li>
</ol>
<p>Then, think about this:</p>
<ul class="simple">
<li><p>If you are <em>very lucky</em>, your program will crash when you run it</p></li>
<li><p>If you are <em>lucky</em>, you will get an answer that is obviously wrong</p></li>
<li><p>If you are <em>unlucky</em>, you won’t notice until after publication</p></li>
<li><p>If you are <em>very unlucky</em>, someone else will notice it after publication</p></li>
</ul>
<p>Ultimately, most of your time could well be spent finding errors and fixing them (“debugging”), not writing code. You can debug when errors appear, but why not just “nip” as many as you can in the “bud”? For this, you would use unit testing.</p>
<div class="section" id="unit-testing">
<h3>Unit testing<a class="headerlink" href="#unit-testing" title="Permalink to this headline">¶</a></h3>
<p>Unit testing prevents the most common mistakes and helps you write reliable code. Indeed, there are many reasons for testing:</p>
<ul class="simple">
<li><p>Can you prove (to yourself) that your code does what you think it does?</p></li>
<li><p>Did you think about the things that might go wrong?</p></li>
<li><p>Can you prove to other people that your code works?</p></li>
<li><p>Does it still all work if you fix a bug?</p></li>
<li><p>Does it still all work if you add a feature?</p></li>
<li><p>Does it work with that new dataset?</p></li>
<li><p>Does it work on the latest version of the language (e.g., Python 3.x vs. 2.7.x)?</p></li>
<li><p>Does it work on Mac? on Linux? on Windows?</p></li>
<li><p>Does it work on 64 bit <em>and</em> 32 bit?</p></li>
<li><p>Does it work on an old version of a Mac?</p></li>
<li><p>Does it work on any Linux server, or Imperial College’s Unix cluster?</p></li>
</ul>
<p>The idea is to write <em>independent</em> tests for the <em>smallest units</em> of code. <em>Why the smallest units?</em> — to increase the likelihood of retaining the tests upon code modification.</p>
<div class="section" id="unit-testing-with-doctest">
<h4>Unit testing with <code class="docutils literal notranslate"><span class="pre">doctest</span></code><a class="headerlink" href="#unit-testing-with-doctest" title="Permalink to this headline">¶</a></h4>
<p>Let’s try <code class="docutils literal notranslate"><span class="pre">doctest</span></code>, the simplest testing tool in python: simple tests for each function are embedded in the docstring.</p>
<p><span class="math notranslate nohighlight">\(\star\)</span> Copy the file <code class="docutils literal notranslate"><span class="pre">control_flow.py</span></code> into the file <code class="docutils literal notranslate"><span class="pre">test_control_flow.py</span></code> and edit the original function so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>

<span class="sd">&quot;&quot;&quot;Some functions exemplifying the use of control statements&quot;&quot;&quot;</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s1">&#39;Your Name (Your.Name@your.email.address)&#39;</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="s1">&#39;0.0.1&#39;</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">doctest</span> <span class="c1"># Import the doctest module</span>

<span class="k">def</span> <span class="nf">even_or_odd</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Find whether a number x is even or odd.</span>
<span class="sd">      </span>
<span class="sd">    &gt;&gt;&gt; even_or_odd(10)</span>
<span class="sd">    &#39;10 is Even!&#39;</span>
<span class="sd">    </span>
<span class="sd">    &gt;&gt;&gt; even_or_odd(5)</span>
<span class="sd">    &#39;5 is Odd!&#39;</span>
<span class="sd">    </span>
<span class="sd">    whenever a float is provided, then the closest integer is used:    </span>
<span class="sd">    &gt;&gt;&gt; even_or_odd(3.2)</span>
<span class="sd">    &#39;3 is Odd!&#39;</span>
<span class="sd">    </span>
<span class="sd">    in case of negative numbers, the positive is taken:    </span>
<span class="sd">    &gt;&gt;&gt; even_or_odd(-2)</span>
<span class="sd">    &#39;-2 is Even!&#39;</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#Define function to be tested</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> is Even!&quot;</span> <span class="o">%</span> <span class="n">x</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> is Odd!&quot;</span> <span class="o">%</span> <span class="n">x</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">argv</span><span class="p">):</span> 
    <span class="nb">print</span><span class="p">(</span><span class="n">even_or_odd</span><span class="p">(</span><span class="mi">22</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">even_or_odd</span><span class="p">(</span><span class="mi">33</span><span class="p">))</span>
    <span class="k">return</span> <span class="mi">0</span>

<span class="k">if</span> <span class="p">(</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">):</span>
    <span class="n">status</span> <span class="o">=</span> <span class="n">main</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

<span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">()</span>   <span class="c1"># To run with embedded tests</span>
</pre></div>
</div>
<p>You can also suppress the block of code containing <code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">main()</span></code> and <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(__name__</span> <span class="pre">==</span> <span class="pre">&quot;__main__&quot;)</span></code> because you don’t want/need to unit test that section of yuor script.</p>
<p>Now run it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">run</span> <span class="n">test_control_flow</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">v</span>
</pre></div>
</div>
</div>
</div>
<p>You can also run doctest “on the fly”, without writing <code class="docutils literal notranslate"><span class="pre">doctest.testmod()</span></code> in the code, by typing in a terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m doctest -v your_function_to_test.py
</pre></div>
</div>
</div>
<div class="section" id="other-unit-testing-approaches">
<h4>Other unit testing approaches<a class="headerlink" href="#other-unit-testing-approaches" title="Permalink to this headline">¶</a></h4>
<p>For more complex testing, see documentation of <code class="docutils literal notranslate"><span class="pre">doctest</span></code> <a class="reference external" href="https://docs.python.org/3.8/library/doctest.html">here</a>.</p>
<p>Also check out the packages <code class="docutils literal notranslate"><span class="pre">pytest</span></code>, <code class="docutils literal notranslate"><span class="pre">unittest</span></code>, and <code class="docutils literal notranslate"><span class="pre">nose</span></code> for more comprehensive and flexible unit testing.</p>
<p>Please start testing as early as possible, but don’t try to test everything either! Remember, it is easier to test if code is compartmentalized into functions.</p>
</div>
</div>
<div class="section" id="debugging">
<span id="python-debugging"></span><h3>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h3>
<p>OK, so you unit-tested, let’s go look at life through beer-goggles… BUT NO! YOU WILL VERY LIKELY RUN INTO BUGS!</p>
<p>Bugs (unexpected errors) happen, almost inevitably, in life and programming. You need to find and debug them. Banish all thoughts of littering your code with <code class="docutils literal notranslate"><span class="pre">print</span></code> statements to find bugs.</p>
<p>Enter the debugger. The command <code class="docutils literal notranslate"><span class="pre">pdb</span></code> turns on the python debugger. Type the following in a file and save as
<code class="docutils literal notranslate"><span class="pre">debugme.py</span></code> in your <code class="docutils literal notranslate"> <span class="pre">Code</span></code> directory:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">buggyfunc</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="o">-</span><span class="mi">1</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span>
    <span class="k">return</span> <span class="n">z</span>

<span class="n">buggyfunc</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<p>Now run it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">run</span> debugme.py
</pre></div>
</div>
</div>
</div>
<p>Note that the directory path will be different for you.</p>
<p>OK, so let’s turn debugging on using <code class="docutils literal notranslate"><span class="pre">%pdb</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">pdb</span>
</pre></div>
</div>
<p>Now run the script again:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>run debugme.py
</pre></div>
</div>
<p>which gives</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>---------------------------------------------------------------------------
ZeroDivisionError                         Traceback <span class="o">(</span>most recent call last<span class="o">)</span>
~/Documents/Teaching/SilBioComp/TheMulQuaBio/content/code/debugme.py in &lt;module&gt;
      <span class="m">6</span>     <span class="k">return</span> z
      <span class="m">7</span> 
----&gt; <span class="m">8</span> buggyfunc<span class="o">(</span><span class="m">20</span><span class="o">)</span>

~/Documents/Teaching/SilBioComp/TheMulQuaBio/content/code/debugme.py in buggyfunc<span class="o">(</span>x<span class="o">)</span>
      <span class="m">3</span>     <span class="k">for</span> i in range<span class="o">(</span>x<span class="o">)</span>:
      <span class="m">4</span>         <span class="nv">y</span> <span class="o">=</span> y-1
----&gt; <span class="m">5</span>         <span class="nv">z</span> <span class="o">=</span> x/y
      <span class="m">6</span>     <span class="k">return</span> z
      <span class="m">7</span> 

ZeroDivisionError: division by zero
&gt; /home/mhasoba/Documents/Teaching/SilBioComp/TheMulQuaBio/content/code/debugme.py<span class="o">(</span><span class="m">5</span><span class="o">)</span>buggyfunc<span class="o">()</span>
      <span class="m">3</span>     <span class="k">for</span> i in range<span class="o">(</span>x<span class="o">)</span>:
      <span class="m">4</span>         <span class="nv">y</span> <span class="o">=</span> y-1
----&gt; <span class="m">5</span>         <span class="nv">z</span> <span class="o">=</span> x/y
      <span class="m">6</span>     <span class="k">return</span> z
      <span class="m">7</span> 
</pre></div>
</div>
<p>Now you will be in the debugger shell, which has a different command prompt: <code class="docutils literal notranslate"><span class="pre">ipdb&gt;</span></code>.</p>
<p>Here, you can use the following commands to navigate and test the code line by line or block by block:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Command</p></th>
<th class="text-align:left head"><p>What it does</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">n</span></code></p></td>
<td class="text-align:left"><p>continue execution until the next line</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">ENTER</span></code></p></td>
<td class="text-align:left"><p>repeat the previous command</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">s</span></code></p></td>
<td class="text-align:left"><p>“step” into next function or procedure (i.e., continue the debugging inside the function, as opposed to simply execute it till it returns)</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">x</span></code></p></td>
<td class="text-align:left"><p>print variable x</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">pp</span> <span class="pre">locals()</span></code></p></td>
<td class="text-align:left"><p>pretty print all variables and objects in current workspace scope</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">c</span></code></p></td>
<td class="text-align:left"><p>continue until next break-point</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">l</span></code></p></td>
<td class="text-align:left"><p>print the code surrounding the current position (you can specify how many)</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">r</span></code></p></td>
<td class="text-align:left"><p>continue until the end of the function</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">q</span></code></p></td>
<td class="text-align:left"><p>quit</p></td>
</tr>
</tbody>
</table>
<p>So let’s continue our debugging:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ipdb&gt; p x                                                                                                                     
<span class="m">20</span>

ipdb&gt; p y                                                                                                                     
<span class="m">0</span>

ipdb&gt; p z                                                                                                                     
<span class="m">20</span>.0

ipdb&gt; p x/y                                                                                                                   
*** ZeroDivisionError: division by zero

ipdb&gt; l                                                                                                                       
      <span class="m">1</span> def buggyfunc<span class="o">(</span>x<span class="o">)</span>:
      <span class="m">2</span>     <span class="nv">y</span> <span class="o">=</span> x
      <span class="m">3</span>     <span class="k">for</span> i in range<span class="o">(</span>x<span class="o">)</span>:
      <span class="m">4</span>         <span class="nv">y</span> <span class="o">=</span> y-1
----&gt; <span class="m">5</span>         <span class="nv">z</span> <span class="o">=</span> x/y
      <span class="m">6</span>     <span class="k">return</span> z
      <span class="m">7</span> 
      <span class="m">8</span> buggyfunc<span class="o">(</span><span class="m">20</span><span class="o">)</span>
ipdb&gt; q

In <span class="o">[]</span>: %pdb
Automatic pdb calling has been turned OFF
</pre></div>
</div>
<p>Once in the debugger, use <code class="docutils literal notranslate"><span class="pre">pp</span> <span class="pre">locals()</span></code> and/or <code class="docutils literal notranslate"><span class="pre">pp</span> <span class="pre">globals()</span></code> to see all local or global objects (including variables and functions) available at the point where the debugger stopped in the script. <code class="docutils literal notranslate"><span class="pre">pp</span></code> stands for “pretty print”.</p>
<div class="section" id="paranoid-programming-debugging-with-breakpoints">
<h4>Paranoid programming: debugging with breakpoints<a class="headerlink" href="#paranoid-programming-debugging-with-breakpoints" title="Permalink to this headline">¶</a></h4>
<p>You may want to pause the program run and inspect a given line or block  of code (<code class="docutils literal notranslate"><span class="pre">*why?*</span></code> — impromptu unit-testing is one reason). To do so, simply put this snippet of code where you want to pause and start a debugging session and then run the program again:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ipdb</span><span class="p">;</span> <span class="n">ipdb</span><span class="o">.</span><span class="n">set_trace</span><span class="p">()</span>
</pre></div>
</div>
<p>(you can use <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pdb;</span> <span class="pre">pdb.set_trace()</span></code> to get the less-interactive python debugger!)</p>
<p>Alternatively, running the code in ipython with the flag <code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">-d</span></code> starts a debugging session from the first line of your code (you can also specify the line to stop at).</p>
<p><em>If you are serious about programming, please start using a debugger (R, Python, whatever…)!</em></p>
</div>
<div class="section" id="debugging-using-your-ide">
<h4>Debugging using your IDE<a class="headerlink" href="#debugging-using-your-ide" title="Permalink to this headline">¶</a></h4>
<p>If you are using a python-dedicated IDE like Spyder or PyCharm, you should do debugging, including setting breakpoints using a graphic user interface. Even more general-purpose code editors / IDEs like Visual Studio Code allow very good <a class="reference external" href="https://code.visualstudio.com/docs/editor/debugging">graphical debugging</a>.</p>
</div>
</div>
<div class="section" id="errors-that-cannot-be-debugged">
<h3>Errors that cannot be debugged<a class="headerlink" href="#errors-that-cannot-be-debugged" title="Permalink to this headline">¶</a></h3>
<p>In many scenarios, you <em>do not</em> want to, or cannot, debug away an error in your program. The two most common such scenarios are:</p>
<ul class="simple">
<li><p>An error that arises when a particular condition is not met in your program.</p></li>
<li><p>You <em>want</em> the code to continue running despite an error.</p></li>
</ul>
<p>to “handle” such errors, you can use the <code class="docutils literal notranslate"><span class="pre">try</span></code> - <code class="docutils literal notranslate"><span class="pre">except</span></code> keywords.</p>
<p>Let’s expand our previous <code class="docutils literal notranslate"><span class="pre">debugme.py</span></code> example to understand how this works.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">buggyfunc</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span> 
            <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;This didn&#39;t work; x = </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">; y = </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">z</span>

<span class="n">buggyfunc</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>This didn&#39;t work; x = 20; y = 0
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>20.0
</pre></div>
</div>
</div>
</div>
<p><span class="math notranslate nohighlight">\(\star\)</span> Run this block of code yourself in the ipython console using <code class="docutils literal notranslate"><span class="pre">%cpaste</span></code>.</p>
<p>So, <code class="docutils literal notranslate"><span class="pre">try</span></code> does what the name suggests - tries to do something (the division), and if it does not work (any error happens), transfers control to the <code class="docutils literal notranslate"><span class="pre">except</span></code> block and whatever you ask Python to do in that block gets executed. This is a good strategy if you want your program to give feedback, or that particular error is not common.</p>
<p>You can also “catch” specific types of errors. For example, modify the code further:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">buggyfunc</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span> 
            <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span>
        <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The result of dividing a number by zero is undefined&quot;</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;This didn&#39;t work; x = </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">; y = </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OK; x = </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">; y = </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">, z = </span><span class="si">{</span><span class="n">z</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">z</span>

<span class="n">buggyfunc</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>OK; x = 20; y = 19, z = 1.0526315789473684;
OK; x = 20; y = 18, z = 1.1111111111111112;
OK; x = 20; y = 17, z = 1.1764705882352942;
OK; x = 20; y = 16, z = 1.25;
OK; x = 20; y = 15, z = 1.3333333333333333;
OK; x = 20; y = 14, z = 1.4285714285714286;
OK; x = 20; y = 13, z = 1.5384615384615385;
OK; x = 20; y = 12, z = 1.6666666666666667;
OK; x = 20; y = 11, z = 1.8181818181818181;
OK; x = 20; y = 10, z = 2.0;
OK; x = 20; y = 9, z = 2.2222222222222223;
OK; x = 20; y = 8, z = 2.5;
OK; x = 20; y = 7, z = 2.857142857142857;
OK; x = 20; y = 6, z = 3.3333333333333335;
OK; x = 20; y = 5, z = 4.0;
OK; x = 20; y = 4, z = 5.0;
OK; x = 20; y = 3, z = 6.666666666666667;
OK; x = 20; y = 2, z = 10.0;
OK; x = 20; y = 1, z = 20.0;
The result of dividing a number by zero is undefined
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>20.0
</pre></div>
</div>
</div>
</div>
<p>So here we anticipated a <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code> and gave feedback on that. As such, <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code> is a pre-defined error type in Python. Another example is <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>, which you will get if you try to run the above script with something non-numeric, such as a string.</p>
<p>Note that we also used <code class="docutils literal notranslate"><span class="pre">else</span></code> (just like in the case of <code class="docutils literal notranslate"><span class="pre">if</span></code>-<code class="docutils literal notranslate"><span class="pre">else</span></code>) here to give feedback on every successful calculation. There is also a <code class="docutils literal notranslate"><span class="pre">finally</span></code> keyword that enables you to execute sections of code that should always run, with or without any previously encountered exceptions.</p>
</div>
</div>
<div class="section" id="functions-modules-and-code-compartmentalization">
<h2>Functions, Modules, and code compartmentalization<a class="headerlink" href="#functions-modules-and-code-compartmentalization" title="Permalink to this headline">¶</a></h2>
<p>Ideally you should aim to compartmentalize your code into a bunch of functions, typically written in a single <code class="docutils literal notranslate"><span class="pre">.py</span></code> file: these are Python “modules”, which you were introduced to previously.</p>
<p>Why bother with modules? Because:</p>
<ul class="simple">
<li><p>Keeping code compartmentalized is good for debugging, unit testing, and profiling (coming up later)</p></li>
<li><p>Makes code more compact by minimizing redundancies (write repeatedly used code segments as a module)</p></li>
<li><p>Allows you to import and use useful functions that you yourself wrote, just like you would from standard python packages (coming up)</p></li>
</ul>
<div class="section" id="importing-modules">
<h3>Importing Modules<a class="headerlink" href="#importing-modules" title="Permalink to this headline">¶</a></h3>
<p>There are different ways to <em>import</em> a module:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">my_module</span></code>, then functions in the module can be called as <code class="docutils literal notranslate"><span class="pre">my_module.one_of_my_functions()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">my_module</span> <span class="pre">import</span> <span class="pre">my_function</span></code> imports only the function <code class="docutils literal notranslate"><span class="pre">my_function</span></code> in the module <code class="docutils literal notranslate"><span class="pre">my_module</span></code>. It can then be called as if it were part of the main file: <code class="docutils literal notranslate"><span class="pre">my_function()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">my_module</span> <span class="pre">as</span> <span class="pre">mm</span></code> imports the module <code class="docutils literal notranslate"><span class="pre">my_module</span></code> and calls it <code class="docutils literal notranslate"><span class="pre">mm</span></code>. Convenient when the name of the module is very long. The functions in the module can be called as <code class="docutils literal notranslate"><span class="pre">mm.one_of_my_functions()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">my_module</span> <span class="pre">import</span> <span class="pre">*</span></code>. Avoid doing this! <em>Why?</em> – to avoid name conflicts!</p></li>
</ul>
<p>You can also access variables written into modules: <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">my_module</span></code>, then do: <code class="docutils literal notranslate"><span class="pre">my_module.one_of_my_variables</span></code></p>
</div>
<div class="section" id="python-packages">
<h3>Python packages<a class="headerlink" href="#python-packages" title="Permalink to this headline">¶</a></h3>
<p>A Python package is simply a directory of Python modules (quite like an <code class="docutils literal notranslate"><span class="pre">R</span></code> package). Many packages, such as the following that I find particularly useful, are always available as standard libraries (just require <code class="docutils literal notranslate"><span class="pre">import</span></code> from within python or ipython):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span></code>: file input-output with <code class="docutils literal notranslate"><span class="pre">.csv</span></code>, <code class="docutils literal notranslate"><span class="pre">.txt</span></code>, etc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">subprocess</span></code>: to run other programs, including multiple ones at the same time, including operating system-dependent functionality</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sqlite3</span></code>: for manipulating and querying <code class="docutils literal notranslate"><span class="pre">sqlite</span></code> databases</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">math</span></code>: for mathematical functions</p></li>
</ul>
<p>Scores of other packages are accessible by explicitly installing them using <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">python-packagename</span></code> (as you did previously) or by using <code class="docutils literal notranslate"><span class="pre">pip</span></code>. Some particularly mentionable ones are:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://scipy.org"><code class="docutils literal notranslate"><span class="pre">sciPy</span></code></a> contains a wide array of numerical tools for scientific computing, including <code class="docutils literal notranslate"><span class="pre">NumPy</span></code>
for efficient data crunching</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> for plotting (very matlab-like, requires <code class="docutils literal notranslate"><span class="pre">scipy</span></code>) (all packaged in <code class="docutils literal notranslate"><span class="pre">pylab</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> for manipulating data, and comes with a DataFrame object similar to the <code class="docutils literal notranslate"><span class="pre">R</span></code> data frame.</p></li>
<li><p><a class="reference external" href="http://scikit-learn.org"><code class="docutils literal notranslate"><span class="pre">scikit-learn</span></code></a> for applying different machine learning algorithms to data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ipython</span></code> is an enhanced python terminal (which you are currently using)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jupyter</span></code> is an interactive notebook environment for data analysis, visualization, and creation of documents that can be shared. This course is written entirely as Jupyter notebooks.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scrapy</span></code> allows you to write efficient programs that <a class="reference external" href="https://en.wikipedia.org/wiki/Web_crawler">crawl</a> through web sites and extract data from them</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">beautifulsoup</span></code> can be used for parsing HTML and XML to extract data (can do a lot of what <code class="docutils literal notranslate"><span class="pre">scrapy</span></code> does)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">biopython</span></code> for bioinformatics. Check out the <a class="reference external" href="http://biopython.org/DIST/docs/tutorial/Tutorial.html">worked examples</a> in particular.</p></li>
</ul>
<p>Of course, you have already installed some of these (<code class="docutils literal notranslate"><span class="pre">scipy</span></code>, <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>).</p>
</div>
</div>
<div class="section" id="id3">
<h2>Practicals<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>As always, test, add, commit and push all your new code and data to your git repository.</p>
<div class="section" id="align-dna-sequences">
<h3>Align DNA sequences<a class="headerlink" href="#align-dna-sequences" title="Permalink to this headline">¶</a></h3>
<p>Open <code class="docutils literal notranslate"><span class="pre">align_seqs.py</span></code> from TheMulQuaBio’s code directory. This script aligns two DNA sequences such that they are as similar as possible. Run the script and make sure you understand what every line is doing. A good way to do this, now that you have learnt debugging, is to insert a breakpoint (<code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">ipdb;</span> <span class="pre">ipdb.set_trace()</span></code>) at key locations in the script and examine what is going on. For example, inserting one just after the start of the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop of the <code class="docutils literal notranslate"><span class="pre">calculate_score</span></code> function/module is a good place.</p>
<p>The aligning algorithm is simple. Start by positioning the beginning of the shorter sequence at all positions (bases) of the longer one (the start position), and count the number of bases matched downstream. Then, for each start position, count the “score” as total of number of bases matched. The alignment with the highest score wins. Ties are possible, in which case, you just take the an arbitrary alignment (e.g., first or last) with the highest score.</p>
<p>Your tasks:</p>
<ul class="simple">
<li><p>Convert <code class="docutils literal notranslate"><span class="pre">align_seqs.py</span></code> to a Python program that takes the DNA sequences as an input from a single external file and saves the best alignment along with its corresponding score in a single text file (your choice of format and file type) to an appropriate location. No external input should be required; that is, you should still only need to use <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">align_seq.py</span></code> to run it.
For example, the input file can be a single <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file with the two example sequences given at the top of the original script.</p></li>
</ul>
</div>
<div class="section" id="groupwork-practical-on-align-dna-sequences">
<h3>Groupwork Practical on Align DNA sequences<a class="headerlink" href="#groupwork-practical-on-align-dna-sequences" title="Permalink to this headline">¶</a></h3>
<p>Align all the <code class="docutils literal notranslate"><span class="pre">.fasta</span></code> sequences from the <a class="reference internal" href="01-Unix.html"><span class="doc std std-doc">Unix chapter</span></a>. Call the new script <code class="docutils literal notranslate"><span class="pre">align_seqs_fasta.py</span></code>. Unlike <code class="docutils literal notranslate"><span class="pre">align_seqs.py</span></code>, this script should take <em>any</em> two fasta sequences (in separate files) to be aligned as input. So this script would typically run by using explicit inputs, for example, when called with something like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 align_seqs_fasta.py seq1.csv seq2.csv
</pre></div>
</div>
<p>However, it should still run if no inputs were given, using two fasta sequences from the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory as defaults.</p>
</div>
<div class="section" id="groupwork-practical-on-align-dna-sequences-2">
<h3>Groupwork Practical on Align DNA sequences 2<a class="headerlink" href="#groupwork-practical-on-align-dna-sequences-2" title="Permalink to this headline">¶</a></h3>
<p>The current script/program runs through all possible starting points on the main sequence and then just takes the first of the alignments with the highest score. This should be apparent if you closely examine this part of the script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">l1</span><span class="p">):</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">calculate_score</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">z</span> <span class="o">&gt;</span> <span class="n">my_best_score</span><span class="p">:</span>
        <span class="n">my_best_align</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="n">s2</span>
        <span class="n">my_best_score</span> <span class="o">=</span> <span class="n">z</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">z</span> <span class="pre">&gt;</span> <span class="pre">my_best_score</span></code> condition means that when a new alignment has the same score as the current one, the current one will be kept and the new one discarded. As a result, multiple alignments with the same score will be lost even if they are all equally good alignments (highly likely in longer sequences), with only the first one retained.</p>
<ul class="simple">
<li><p>Modify the script so that all the equally-best alignments are recorded and saved to the <code class="docutils literal notranslate"><span class="pre">results</span></code> directory in an appropriate file format (Hint: recall <code class="docutils literal notranslate"><span class="pre">pickle</span></code>). Call your new script <code class="docutils literal notranslate"><span class="pre">align_seqs_better.py</span></code>.</p></li>
</ul>
</div>
<div class="section" id="missing-oaks-problem">
<h3>Missing oaks problem<a class="headerlink" href="#missing-oaks-problem" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Open and run the code <code class="docutils literal notranslate"><span class="pre">oaks_debugme.py</span></code> — there’s a bug, for no oaks are being found! (<em>where’s <code class="docutils literal notranslate"><span class="pre">TestOaksData.csv</span></code>?</em> — in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory of TheMulQuaBio repo!)</p></li>
<li><p>Fix the bug (e.g., you could insert a debugging breakpoint using <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">ipdb;</span> <span class="pre">ipdb.set_trace()</span></code>)</p></li>
<li><p>Now, write doctests to make sure that, bug or no bug, your <code class="docutils literal notranslate"><span class="pre">is_an_oak</span></code> function is working as expected (hint: <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span> <span class="pre">is_an_oak('Fagus</span> <span class="pre">sylvatica')</span></code> should return <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
<p>If you wrote good doctests, you will find another bug that you might not have by just debugging (hint: what happens if you try the doctest with “Quercuss” instead of “Quercus”? Should this pass or fail?).</p>
<ul class="simple">
<li><p>Modify your doctests approriately, and  modify your script such that it can handle cases where there is a typo (such as ‘Quercuss’) or there is a genus name that is not strictly ‘Quercus’.</p></li>
</ul>
</div>
<div class="section" id="groupwork-practical-on-missing-oaks-problem">
<h3>Groupwork Practical on Missing oaks problem<a class="headerlink" href="#groupwork-practical-on-missing-oaks-problem" title="Permalink to this headline">¶</a></h3>
<p>You might have noticed that the headers in the data column are being included in the program as if they were a genus and species. That is, the first block of the program’s output is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="s1">&#39;Genus&#39;</span>, <span class="s1">&#39; species&#39;</span><span class="o">]</span>
The genus is:
Genus
</pre></div>
</div>
<ul class="simple">
<li><p>Modify the script so that it excludes the header row (if it exists) in its search for oaks in a given dataset.</p></li>
<li><p>You might also have noticed that the output of the program writes a new file containing just the names of oaks. However, it does not include the column headers (“Genus”, “species”). Fix this.</p></li>
</ul>
</div>
<div class="section" id="practicals-wrap-up">
<h3>Practicals wrap-up<a class="headerlink" href="#practicals-wrap-up" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Review and make sure you can run all the commands, code fragments, and scripts we have till now and get the expected outputs — all scripts should work on any other linux laptop.</p></li>
<li><p><em>Don’t forget to add docstrings where necessary/appropriate.</em></p></li>
<li><p>Test all your scripts by running from the bash terminal in additon to from within the ipython shell (and try both <code class="docutils literal notranslate"><span class="pre">python</span></code> and <code class="docutils literal notranslate"><span class="pre">ipython</span></code> to run in the bash terminal)</p></li>
<li><p>Include an appropriate docstring (if one is missing) at the beginning of <code class="docutils literal notranslate"><span class="pre">*each*</span></code> of each of the python script/ module files you have written, as well as at the start of every function (sub-module) in a module.</p></li>
<li><p>Also annotate your code lines as much and as often as necessary using <code class="docutils literal notranslate"><span class="pre">#</span></code>.</p></li>
<li><p>Keep all code files organized in <code class="docutils literal notranslate"><span class="pre">code</span></code> in your weekly directory in your coursework repository (e.g., in CMEECourseWork/Week2).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>, <code class="docutils literal notranslate"><span class="pre">commit</span></code> and <code class="docutils literal notranslate"><span class="pre">push</span></code> all your code and data files to your git repository by given deadline.*</p></li>
</ul>
</div>
</div>
<div class="section" id="readings-and-resources">
<h2>Readings and Resources<a class="headerlink" href="#readings-and-resources" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general">
<h3>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>M. Fowler, Refactoring: improving the design of existing code (2000), Addison-Wesley Professional</p></li>
<li><p>R. C. Martin, Clean code, A handbook of agile software craftsmanship (2009), Prentice Hall</p></li>
<li><p>Browse the Python <a class="reference external" href="https://docs.python.org/3/tutorial">tutorial</a></p></li>
<li><p>Shaw, Zed. 2017. Learn Python 3 the Hard Way: A Very Simple Introduction to the Terrifyingly Beautiful World of Computers and Code. Boston : Addison-Wesley (likely available in your University library)</p></li>
<li><p>Python style guide from <a class="reference external" href="https://docs.python-guide.org/writing/style">the Hitchhiker’s Guide to Python</a></p></li>
<li><p>A very detailed style guide: <a class="reference external" href="https://google.github.io/styleguide/pyguide.html">the Google Python Style Guide</a></p></li>
</ul>
</div>
<div class="section" id="id4">
<h3>IPython<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The IPython <a class="reference external" href="https://ipython.readthedocs.io/en/stable">documentation</a></p></li>
<li><p><a class="reference external" href="https://github.com/ipython/ipython/wiki">Cookbooks</a> can be very useful</p></li>
</ul>
</div>
<div class="section" id="id5">
<h3>Python data structures<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Read more about native Python data structures <a class="reference external" href="https://diveintopython3.problemsolving.io/native-datatypes.html">here</a></p></li>
</ul>
</div>
<div class="section" id="elements-of-the-python-program">
<h3>Elements of the Python program<a class="headerlink" href="#elements-of-the-python-program" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Read more about the python shebang <a class="reference external" href="https://www.python.org/dev/peps/pep-0394/#recommendation">here</a></p></li>
<li><p>See the <a class="reference external" href="https://www.python.org/dev/peps/pep-0257/">official docstring conventions</a>.</p></li>
</ul>
</div>
<div class="section" id="errors-and-debugging">
<h3>Errors and Debugging<a class="headerlink" href="#errors-and-debugging" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>https://docs.python.org/3/tutorial/errors.html</p></li>
</ul>
</div>
<div class="section" id="functions-modules-and-classes">
<h3>Functions, Modules, and Classes<a class="headerlink" href="#functions-modules-and-classes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>For functions vs. modules vs. classes in Python, have a look <a class="reference external" href="http://learnpythonthehardway.org/book/ex40.html">at this</a>.</p></li>
</ul>
</div>
<div class="section" id="id6">
<h3>Python Packages<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Look up <a class="reference external" href="https://docs.python.org/3/library/index.html">https://docs.python.org/3/library/index.html</a> – Read about the packages you think will be important to you</p></li>
</ul>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="04-LaTeX.html" title="previous page">Scientific documents with <span class="math notranslate nohighlight">\(\LaTeX\)</span></a>
    <a class='right-next' id="next-link" href="06-Python_II.html" title="next page">Biological Computing in Python II</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Samraat Pawar<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.30270b6e4c972e43c488.js"></script>


    
  </body>
</html>